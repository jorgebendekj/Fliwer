!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequirecbf3,n=r.register;n("5Tfpn",(function(n,a){var o;o=n.exports,Object.defineProperty(o,"__esModule",{value:!0,configurable:!0}),t(n.exports,"default",(function(){return b}));var s=r("9nHZC"),i=r("dGzLf"),l=r("lM4y8"),u=r("61YuV"),d=r("lbGYZ"),c=r("2dDP1"),p=r("8MnfV"),f=r("aanBq"),m=r("g2R3c"),g=r("ixRhB");const h=()=>{const{data:t,loading:r}=(0,l.useResource)(d.dashboardOverviewViewResource),n=(0,i.useSelector)(f.getRecentlyViewedRepositoryCount),a=(0,i.useSelector)(p.getUpToSmallBreakpointState),o=(0,i.useSelector)(m.getCurrentUserAccountId),c=(null==t?void 0:t.pullRequests.authored)||[],h=(null==t?void 0:t.pullRequests.reviewing)||[],b=(null==t?void 0:t.pullRequests.closed)||[],[v,x]=(0,s.useState)((null==t?void 0:t.pullRequestFilters)||[]),[,E]=(0,u.usePref)("dashboard:pullRequests:filter"),[y,R]=(0,s.useState)([]),S=0===n&&0===c.length&&0===h.length&&0===b.length;return e(s).createElement(g.default,{expandedPullRequestSets:y,isEmpty:S,isLoading:r,isUpToSmallBreakpointActive:a,pullRequestsReviewing:h,pullRequestsOwned:c,pullRequestsClosed:b,pullRequestFilters:v,onClearPullRequestFilters:()=>{E("[]"),x([])},onPullRequestFilter:(e,t)=>{let r=v;const n=r.indexOf(e);n>-1&&!t?r=r.filter((t=>t!==e)):-1===n&&t&&(r=[...r,e]),E(JSON.stringify(r)),x(r)},onExpandPullRequests:e=>{-1===y.indexOf(e)&&R([...y,e])},currentUserAccountId:o})};var b=()=>{const{data:t,error:r,loading:n}=(0,l.useResource)(d.dashboardOverviewViewResource);return n||!t&&!r?e(s).createElement(c.LoadingPage,null):e(s).createElement(h,null)}})),n("61YuV",(function(e,n){t(e.exports,"usePref",(function(){return d}));var a=r("9nHZC"),o=r("3XbtU"),s=r("dGzLf"),i=r("g2R3c"),l=r("j9gxd"),u=r("1IvI9");function d(e){const[t,r]=(0,u.useObjectState)({isLoading:!0}),n=(0,s.useSelector)(i.getCurrentUser),d=(0,a.useRef)(!0);return(0,a.useEffect)((()=>((async()=>{try{if(n){const t=await l.default.get(n.uuid,e);d.current&&r({value:t,isLoading:!1})}}catch(e){o.captureException(e)}})(),()=>{d.current=!1})),[n&&n.uuid]),[t.value,async function(t){try{if(!n)return;d.current&&r({isLoading:!0}),void 0===t?await l.default.delete(n.uuid,e):await l.default.set(n.uuid,e,t),d.current&&r({value:t,isLoading:!1})}catch(e){o.captureException(e)}},t.isLoading]}})),n("ixRhB",(function(n,a){t(n.exports,"default",(function(){return R}));var o=r("a8g5d"),s=r("3jRWn"),i=r("dEKDm"),l=r("7hUwt"),u=r("el08J"),d=r("c03Tp"),c=r("9nHZC"),p=r("dV1BF"),f=r("agjvf"),m=r("eD9vM"),g=r("bYrER"),h=r("ahOMx"),b=r("i0396"),v=r("5wb2R"),x=r("4FqTo");const E=()=>{r("2QbQU")};class y extends c.PureComponent{constructor(...e){super(...e),this.props=void 0}componentDidMount(){window.addEventListener("load",E)}componentWillUnmount(){window.removeEventListener("load",E)}renderContent(){const{expandedPullRequestSets:t,isEmpty:r,isLoading:n,onClearPullRequestFilters:a,onExpandPullRequests:o,onPullRequestFilter:s,pullRequestFilters:p,pullRequestsReviewing:f,pullRequestsOwned:g,pullRequestsClosed:h,currentUserAccountId:E}=this.props;return n?e(c).createElement(m.Loading,null,e(c).createElement(i.default,{size:"large"})):e(c).createElement(l.ContextWrapper,{sourceName:"dashboard",sourceType:d.SCREEN},e(c).createElement(u.FireScreenAnalytics,{attributes:{isEmpty:r}}),e(c).createElement(b.default,{expandedPullRequestSets:t,isEmpty:r,onClearPullRequestFilters:a,onExpandPullRequests:o,onPullRequestFilter:s,pullRequestFilters:p,pullRequestsReviewing:f,pullRequestsOwned:g,pullRequestsClosed:h,currentUserAccountId:E}),e(c).createElement(x.MetricSender,{metric:v.DASHBOARD_OVERVIEW_LOAD}))}render(){return e(c).createElement(g.OverviewPageWrapper,null,e(c).createElement(o.default,{spacing:this.props.isUpToSmallBreakpointActive?"cosy":"comfortable",layout:"fluid"},e(c).createElement(p.default,{defer:!1,title:this.props.intl.formatMessage(h.default.pageTitle)}),e(c).createElement(s.default,null,this.renderContent())))}}y.defaultProps={expandedPullRequestSets:[],isEmpty:!1,isLoading:!1,onClearPullRequestFilters:()=>{},onExpandPullRequests:()=>{},onPullRequestFilter:()=>{},pullRequestFilters:[],pullRequestsReviewing:[],pullRequestsOwned:[],pullRequestsClosed:[],currentUserAccountId:""};var R=(0,f.injectIntl)(y)})),n("7hUwt",(function(n,a){t(n.exports,"ContextWrapper",(function(){return d}));var o=r("l5MLt"),s=r("9nHZC"),i=r("a3lEo"),l=r("4ym3q"),u=r("9Umis"),d=function(t){var r=function(t){t.children;var r=t.sourceName,n=t.sourceType,a=(0,o.__rest)(t,["children","sourceName","sourceType"]),s=r&&n?""+r+n:void 0;return e(l)((0,o.__assign)({source:s},a),e(i))}(t);return e(s).createElement(u.default,{data:r},e(s).createElement(e(s).Fragment,null,t.children))}})),n("el08J",(function(n,a){t(n.exports,"FireScreenAnalytics",(function(){return p}));var o=r("l5MLt"),s=r("9nHZC"),i=r("kaBIb"),l=r("c03Tp"),u=r("g4LBV"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.type,r=e.attributes;if(!this.props.createAnalyticsEvent)throw new Error("Invalid use of component; must be wrapped by withAnalyticsEvents HOC");var n=function(e){var t=e.eventName,r=e.action,n=e.actionSubject;if(t&&(r||n))throw new Error("eventName is an alias for action & actionSubject, provide only one of those");var a=t?t.split(" "):[],o=r||a[1],s=n||a[0];if(!o||!s)throw new Error('eventName should exist and be in the format "subject action", i.e. "button clicked", "menu opened", "issue created", etc');return{action:o,actionSubject:s}}(this.props),a=n.action,o=n.actionSubject,s=function(e){var t=e.componentName,r=e.actionSubjectId;if(t&&r)throw new Error("componentName is an alias for actionSubjectId, provide only one of those");return{actionSubjectId:r||t}}(this.props).actionSubjectId,i=this.props.createAnalyticsEvent({action:a});(0,u.fireAnalytics)(i,t,{action:a,actionSubject:o,actionSubjectId:s,attributes:r})},t.prototype.render=function(){return null},t}(s.Component),c=(0,i.default)()(d),p=function(t){return e(s).createElement(c,(0,o.__assign)({},t,{type:l.SCREEN_EVENT_TYPE,eventName:"screen viewed"}))}})),n("g4LBV",(function(e,n){t(e.exports,"fireAnalytics",(function(){return i})),t(e.exports,"fireScreenAnalytics",(function(){return l}));var a=r("l5MLt"),o=(r("9NMTI"),r("c03Tp")),s=r("diOnS"),i=function(e,t,r){var n=e.clone();if(!n)throw new Error("Cannot clone an event after it's been fired.");n.update((0,a.__assign)((0,a.__assign)({},r),{analyticsType:t})).fire(o.ANALYTICS_BRIDGE_CHANNEL)},l=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!e.clone)throw new Error("There is no analytics event from Atlaskit in Screen event");var n=(0,s.getImperativeAnalyticsDataFromArguments)(t).attributes;i(e,o.SCREEN_EVENT_TYPE,{attributes:n})}})),n("diOnS",(function(e,r){t(e.exports,"getImperativeAnalyticsDataFromArguments",(function(){return a}));var n=function(e){var t=e.split(" ");switch(t.length){case 1:return{actionSubject:void 0,action:void 0,actionSubjectId:t[0],attributes:void 0};case 2:return{actionSubject:t[0],action:t[1],actionSubjectId:void 0,attributes:void 0};default:throw Error("Event of this type is not supported")}},a=function(e){switch(e.length){case 0:return{actionSubject:void 0,action:void 0,actionSubjectId:void 0,attributes:void 0};case 1:return function(e){if("string"==typeof e)return n(e);if("object"==typeof e)return{actionSubject:void 0,action:void 0,actionSubjectId:void 0,attributes:e};throw Error("Event of this type is not supported")}(e[0]);case 2:return function(e,t){if("string"==typeof e&&"string"==typeof t){var r=n(e),a=r.action;return{actionSubject:r.actionSubject,action:a,actionSubjectId:t,attributes:void 0}}if("string"==typeof e&&"object"==typeof t){var o=n(e);return a=o.action,{actionSubject:o.actionSubject,action:a,actionSubjectId:o.actionSubjectId,attributes:t}}throw Error("Event of this type is not supported")}(e[0],e[1]);case 3:return function(e,t,r){if("string"==typeof e&&"string"==typeof t&&"object"==typeof r){var a=n(e),o=a.action;return{actionSubject:a.actionSubject,action:o,actionSubjectId:t,attributes:r}}throw Error("Event of this type is not supported")}(e[0],e[1],e[2]);default:throw Error("Can not fire an empty event")}}})),n("bYrER",(function(e,n){t(e.exports,"FilteredPullRequestsEmptyState",(function(){return c})),t(e.exports,"ClearPullRequestFiltersButton",(function(){return p})),t(e.exports,"Actions",(function(){return f})),t(e.exports,"FilterLabel",(function(){return m})),t(e.exports,"FilterCheckboxLine",(function(){return g})),t(e.exports,"FilterCheckbox",(function(){return h})),t(e.exports,"TableSectionEmptyStateWrapper",(function(){return b})),t(e.exports,"OverviewPageWrapper",(function(){return v}));var a=r("2xJU3"),o=r("EKmRU"),s=r("jp7ng"),i=r("aP6k3"),l=r("h39Sh"),u=r("3UVNu"),d=r("iH47e");const c=(0,a.default)(d.CenteredRow,{target:"ei693ry0"})("padding:",2*(0,i.gridSize)(),"px 0;"),p=(0,a.default)(o.default,{target:"ei693ry1"})({name:"dt93b2",styles:"&&{padding-left:0;}"}),f=(0,a.default)("div",{target:"ei693ry2"})("margin-top:-",(0,i.gridSize)()/2,"px;"),m=(0,a.default)("div",{target:"ei693ry3"})("color:",(0,l.default)("color.text.subtlest",s.N200),";font-size:0.9em;font-weight:600;text-transform:uppercase;margin-right:",(0,i.gridSize)(),"px;margin-top:",(0,i.gridSize)()/2,"px;"),g=(0,a.default)("div",{target:"ei693ry4"})("display:flex;flex-wrap:wrap;margin-top:",2*(0,i.gridSize)(),"px;",u.media.upToSmall("\n    flex-direction: column;\n  "),""),h=(0,a.default)("div",{target:"ei693ry5"})("margin-right:",(0,i.gridSize)(),"px;"),b=(0,a.default)("div",{target:"ei693ry6"})("padding:",5*(0,i.gridSize)(),"px 0;margin-bottom:",4*(0,i.gridSize)(),"px;display:flex;flex-direction:column;align-items:center;justify-content:center;border-top:2px solid ",(0,l.default)("color.border",s.N40),";border-bottom:2px solid ",(0,l.default)("color.border",s.N40),";& a{margin-top:",2*(0,i.gridSize)(),"px;}"),v=(0,a.default)("div",{target:"ei693ry7"})("max-width:",160*(0,i.gridSize)(),"px;margin:",2*(0,i.gridSize)(),"px auto 0;")})),n("iH47e",(function(e,n){t(e.exports,"CenteredRow",(function(){return d})),t(e.exports,"CenteredColumn",(function(){return c})),t(e.exports,"CodeBlock",(function(){return p})),t(e.exports,"CodeContainer",(function(){return f})),t(e.exports,"SubtleLink",(function(){return m})),t(e.exports,"HorizontalRule",(function(){return g})),t(e.exports,"IconWithCountWrapper",(function(){return h})),t(e.exports,"IconWithCountIconWrapper",(function(){return b})),t(e.exports,"FakeLabel",(function(){return v})),t(e.exports,"ProcessingMessage",(function(){return x})),t(e.exports,"Divider",(function(){return E}));var a=r("2xJU3"),o=r("aP6k3"),s=r("jp7ng"),i=r("dCDrX"),l=r("h39Sh"),u=r("4x9W6");const d=(0,a.default)("div",{target:"e1o7ar1l0"})({name:"dtw560",styles:"align-items:center;display:flex;justify-content:center;"}),c=(0,a.default)(d,{target:"e1o7ar1l1"})({name:"cgq59l",styles:"flex-direction:column;"}),p=(0,a.default)("code",{target:"e1o7ar1l2"})({color:(0,l.default)("color.text",s.N800),flex:1,fontFamily:(0,o.codeFontFamily)(),fontSize:"12px",overflowX:"auto",whiteSpace:"pre-wrap",width:0},""),f=(0,a.default)("div",{target:"e1o7ar1l3"})({alignItems:"center",background:(0,l.default)("elevation.surface.sunken",s.N20),display:"flex",marginTop:`${(0,o.gridSize)()}px`,padding:`${(0,o.gridSize)()}px`},""),m=(0,a.default)("a",{target:"e1o7ar1l4"})(u.subtleLink,""),g=(0,a.default)("hr",{target:"e1o7ar1l5"})({background:(0,l.default)("color.border",s.N40),border:0,height:"2px"},""),h=(0,a.default)("span",{target:"e1o7ar1l6"})({alignItems:"center",display:"flex","& + &":{marginLeft:2*(0,o.gridSize)()+"px"}},""),b=(0,a.default)("span",{target:"e1o7ar1l7"})({alignItems:"center",display:"flex",marginRight:(0,o.gridSize)()/2+"px"},""),v=(0,a.default)("span",{target:"e1o7ar1l8"})(i.h200(),{display:"block",marginBottom:(0,o.gridSize)()/2+"px"},""),x=(0,a.default)("div",{target:"e1o7ar1l9"})({name:"1hgdgqm",styles:"margin-left:auto;margin-right:8px;"}),E=(0,a.default)("hr",{target:"e1o7ar1l10"})({height:"1px",border:0,backgroundColor:(0,l.default)("color.border",s.N30A),margin:`${(0,l.default)("space.100","8px")} 0`},"")})),n("ahOMx",(function(e,n){t(e.exports,"default",(function(){return a}));var a=(0,r("agjvf").defineMessages)({header:{id:"frontbucket.dashboard.overview.header",defaultMessage:"Your work"},pageTitle:{id:"frontbucket.dashboard.overview.pageTitle",defaultMessage:"Overview"}})})),n("i0396",(function(n,a){t(n.exports,"default",(function(){return q}));var o=r("9nHZC"),s=r("agjvf"),i=r("5oo0Y"),l=r("2NCqS"),u=r("1JlAz"),d=r("fequ0"),c=r("2JJQ9");r("4E75g");var p=r("ep2Jf"),f=r("gtaeM"),m=r("1bQWk"),g=r("6aoKW"),h=r("1ZBmx"),b=r("2rCKO"),v=r("1Mpjz"),x=r("aXVcq"),E=r("grlzv"),y=r("kHtIZ"),R=r("bYrER"),S=r("lIlbX"),k=r("8N5Zm");class w extends o.PureComponent{constructor(e){super(e),this.handleExpandOwnedPullRequests=void 0,this.handleExpandReviewingPullRequests=void 0,this.props=void 0,this.handleClearPullRequestFilters=this.handleClearPullRequestFilters.bind(this),this.handleExpandOwnedPullRequests=this.handleExpandPullRequests.bind(this,"OWNED"),this.handleExpandReviewingPullRequests=this.handleExpandPullRequests.bind(this,"REVIEWING")}handleClearPullRequestFilters(){this.props.onClearPullRequestFilters()}handleExpandPullRequests(e){return this.props.onExpandPullRequests(e)}renderPullRequestFilterInlineCheckbox(t,r){const{pullRequestFilters:n}=this.props,a=(s=t,-1!==n.indexOf(s));var s;return e(o).createElement(R.FilterCheckbox,null,e(o).createElement(i.default,{id:t,isChecked:a,label:r,onChange:this.pullRequestFilterInlineCheckboxClicked(t,!a)}))}pullRequestFilterInlineCheckboxClicked(e,t){const{onPullRequestFilter:r}=this.props;return()=>{r(e,t),(0,g.publishUiEvent)({action:"clicked",actionSubject:"button",actionSubjectId:"dashboardPullRequestFilterButton",source:"dashboardScreen",attributes:{filter:e,selected:t}})}}renderPullRequestFilterInlineCheckboxes(){const{pullRequestsReviewing:t}=this.props;if(t.length)return e(o).createElement(R.FilterCheckboxLine,null,e(o).createElement(R.FilterLabel,null,e(o).createElement(s.FormattedMessage,y.default.filterBy)),m.orderedPullRequestFilterOptions.map(((t,r)=>e(o).createElement(o.Fragment,{key:r},this.renderPullRequestFilterInlineCheckbox(t,e(o).createElement(s.FormattedMessage,y.filterMessages[t]))))))}render(){const{expandedPullRequestSets:t,isEmpty:r,pullRequestFilters:n,pullRequestsReviewing:a,pullRequestsOwned:i,pullRequestsClosed:l,currentUserAccountId:u}=this.props,p=!!a.length||!!i.length||!!l.length;return e(o).createElement(o.Fragment,null,e(o).createElement(c.default,null),!h.IS_SERVER&&r&&e(o).createElement(x.default,null),e(o).createElement(b.default,null),e(o).createElement(k.SectionHeading,null,e(o).createElement(k.Title,null,e(o).createElement(s.FormattedMessage,y.default.pullRequestsTitle)),p&&e(o).createElement(R.Actions,null,this.renderPullRequestFilterInlineCheckboxes())),!p&&e(o).createElement(R.TableSectionEmptyStateWrapper,null,e(o).createElement(s.FormattedMessage,y.default.pullRequestEmptyState)),!!a.length&&e(o).createElement(S.default,{emptyState:e(o).createElement(R.FilteredPullRequestsEmptyState,null,e(o).createElement(s.FormattedMessage,y.default.pullRequestFilterEmptyState),e(o).createElement(R.ClearPullRequestFiltersButton,{appearance:"link",onClick:this.handleClearPullRequestFilters},e(o).createElement(s.FormattedMessage,y.default.clearPullRequestFilters))),Heading:e(o).createElement(s.FormattedMessage,y.default.reviewingPullRequestsTableHeader),isExpanded:-1!==t.indexOf("REVIEWING"),onExpand:this.handleExpandReviewingPullRequests,pullRequests:(f=a,g=n,f.filter((e=>{const t=e=>-1!==g.indexOf(e);return!(t(m.PullRequestFilterOptions.OpenTasks)&&e.task_count>0||t(m.PullRequestFilterOptions.NeedsReview)&&(e.extra.approved||e.extra.state===d.ParticipantStateTypes.approved||e.extra.state===d.ParticipantStateTypes.changesRequested)||t(m.PullRequestFilterOptions.SuccessfulBuilds)&&(e.extra.commit_statuses||[]).filter((e=>"FAILED"===e.state)).length)}))),showAvatar:!0,maxListSize:10,viewAllHref:"../pull-requests/?user_filter=REVIEWING"}),!!i.length&&e(o).createElement(S.default,{Heading:e(o).createElement(s.FormattedMessage,y.default.ownedPullRequestsTableHeader),isExpanded:-1!==t.indexOf("OWNED"),onExpand:this.handleExpandOwnedPullRequests,pullRequests:i,maxListSize:10,viewAllHref:`../pull-requests/?author=${u}&user_filter=ALL`}),!!l.length&&e(o).createElement(S.default,{Heading:e(o).createElement(s.FormattedMessage,y.default.recentlyClosedPullRequestsHeader),pullRequests:l,showAvatar:!0,showState:!0,listSize:5,maxListSize:l.length}),e(o).createElement(v.default,null),e(o).createElement(E.default,null));var f,g}}w.defaultProps={expandedPullRequestSets:[],isEmpty:!1,onClearPullRequestFilters:()=>{},onExpandPullRequests:()=>{},onPullRequestFilter:()=>{},pullRequestFilters:[],pullRequests:{reviewing:[],owned:[]}};const C=(0,p.getSsrPageLoadMarkEntryName)(),M=(0,l.withApdex)(f.ApdexTask.DashboardOverview,{stopTimePerformanceMarkEntryName:C})((0,u.withStatsd)("performance.dashboard.overview.rendered",{customEndEvent:C})(w));var q=(0,s.injectIntl)(M)})),n("2NCqS",(function(n,a){t(n.exports,"useApdexMeasuredRender",(function(){return d})),t(n.exports,"withApdex",(function(){return c})),t(n.exports,"useApdexMeasuredBrowserNavigation",(function(){return p})),t(n.exports,"withApdexTransition",(function(){return f}));var o=r("9nHZC"),s=r("dGzLf"),i=r("dqY9c"),l=r("8MzLl");const u=e=>e.displayName||e.name||"Component",d=(e,t={})=>{const{featureFlagSelectors:r=[],stopTimePerformanceMarkEntryName:n}=t,a=(0,s.useSelector)((e=>0===r.length?null:r.reduce(((t,{name:r,selector:n})=>({...t,[r]:n(e)})),{})),s.shallowEqual),i=a?{featureFlags:a}:void 0;(0,o.useEffect)((()=>{e&&(0,l.stopApdex)(e,{additionalAttributes:i,stopTimePerformanceMarkEntryName:n})}),[])},c=(t,r={})=>n=>{function a(a){return d(t,r),e(o).createElement(n,a)}return a.displayName=`withApdex(${u(n)})`,a.WrappedComponent=n,a},p=(e,t)=>{(0,o.useEffect)((()=>t.listen(((t,r)=>{"POP"===r&&(0,l.startApdex)({task:e,type:"transition"})}))),[e,t])},f=t=>r=>{function n(n){const a=(0,i.useHistory__UNSAFE)();return p(t,n.history||a),e(o).createElement(r,n)}return n.displayName=`WithApdexTransition(${u(r)})`,n.WrappedComponent=r,n}})),n("2JJQ9",(function(n,a){t(n.exports,"default",(function(){return d}));var o=r("9nHZC"),s=r("1ONvK"),i=r("iOmtv"),l=r("hp1uP"),u=r("7ncoz");var d=t=>{const{workspace:r}=(0,o.useContext)(l.CurrentDataContext);if(!r)return null;const n=e(o).createElement(u.default,{workspace:r});return e(o).createElement(i.default,null,e(o).createElement(s.default,{href:r.links.html.href,text:r.name||"",iconBefore:n}),t.children)}})),n("4E75g",(function(e,n){t(e.exports,"getSsrPageLoadMarkEntryName",(function(){return r("ep2Jf").getSsrPageLoadMarkEntryName}));r("ep2Jf"),r("1jQQK")})),n("ep2Jf",(function(e,n){t(e.exports,"getSsrPageLoadMarkEntryName",(function(){return i}));var a=r("1ZBmx"),o=r("1jQQK");const s=(e,t=o.DEFAULT_PERFORMANCE_MARK_NAMESPACE)=>`SSR_${t}_${e}`,i=(e=o.DEFAULT_PERFORMANCE_MARK_NAMESPACE)=>{if((0,a.appWasServerSideRendered)())return s(o.PERFORMANCE_MARK_SSR_HTML,e)}})),n("1bQWk",(function(e,r){var n,a;t(e.exports,"PullRequestFilterOptions",(function(){return n})),t(e.exports,"orderedPullRequestFilterOptions",(function(){return o})),(a=n||(n={})).SuccessfulBuilds="SUCCESSFUL_BUILDS",a.OpenTasks="OPEN_TASKS",a.NeedsReview="NEEDS_REVIEW";const o=["SUCCESSFUL_BUILDS","NEEDS_REVIEW","OPEN_TASKS"]})),n("2rCKO",(function(n,a){t(n.exports,"default",(function(){return p}));var o=r("9nHZC"),s=r("ikMGL"),i=r("bgHZM"),l=r("dqY9c"),u=r("98k7E"),d=r("4L8Zj");function c(){const t=(0,l.useMatch)(),{createRepoUrl:r}=(0,u.useWorkspaceNavActionUrls)(),[n,a]=(0,o.useState)(!1),{recentRepositories:c,loadRecentRepositories:p}=(0,s.useRecentData)();return(0,i.useTrackLoadingState)("recent-repositories",n),(0,o.useEffect)((()=>{a(!0),p(!0).then((()=>{a(!1)}))}),[]),n||c.length||r?e(o).createElement(d.default,{match:t,isLoading:n,repositories:c,createRepoUrl:r}):null}c.displayName="RepoCardsContainer";var p=c})),n("bgHZM",(function(e,n){t(e.exports,"useTrackLoadingState",(function(){return s}));var a=r("9nHZC"),o=r("joIjV");const s=(e,t)=>{const r=(0,o.useInteractionContext)();(0,a.useEffect)((()=>t?null==r?void 0:r.hold(e):()=>{}),[r,e,t])}})),n("98k7E",(function(n,a){t(n.exports,"useWorkspaceContainerNavigationState",(function(){return m})),t(n.exports,"useWorkspaceNavActionUrls",(function(){return g}));var o=r("9nHZC"),s=r("cJH1T"),i=r("lM4y8"),l=r("6ePRx"),u=r("iihFv"),d=r("dqY9c"),c=r("8LKJI"),p=r("7sB53"),f=r("6aoKW");const m=()=>{const{menuItems:e,selectedMenuItem:t}=(()=>{const{data:e,error:t}=(0,i.useResource)(p.workspaceNavigationResource),{menuItemsFromResource:r,workspace:n}=(a=e)?{menuItemsFromResource:a.menuItems.sidebar,workspace:a.workspace}:{menuItemsFromResource:[],workspace:void 0};var a;const s=(0,d.useLocation)(),c=(0,d.useMatch)(),f=(0,o.useContext)(u.ForgeAppsContext),m=(0,o.useMemo)((()=>{if(!r||!r.length)return[];let e=(0,l.createNestedMenu)(r);const t=f.workspaceForgeMenuItems;return t&&t.length>0&&(e=(0,l.addMenuItemsById)(e,l.ROOT_MENU_ID,t)),e}),[r,f.workspaceForgeMenuItems]);if(t||!n)return{menuItems:[],selectedMenuItem:void 0};let{pathname:g}=s,h=c.url;g.includes(n.uuid)&&(g=g.replace(n.uuid,n.slug),h=h.replace(n.uuid,n.slug));const b=g.replace(/\/$/,"");return{menuItems:m,selectedMenuItem:(0,l.findNestedMenuItem)(m,(e=>{const t=g.slice(h.length),r=e.matching_url_prefixes||[],n=e.url.replace(/\/$/,"");return b===n||r.some((e=>t.startsWith(e)||b.startsWith(n)&&"*"===e||b===e))}))}})();return{linkComponent:c.default,menuItems:e,publishUiEvent:f.publishUiEvent,selectedMenuItem:t}},g=()=>{var t,r,n,a,o;const{data:l,error:u,loading:c}=(0,i.useResource)(p.workspaceNavigationResource),{projectKey:f}=(0,d.useParams)();if(!l||u||c)return{};const{links:m}=l,g=e(s).stringify({project:f},{skipNulls:!0,addQueryPrefix:!0});return{createProjectUrl:null==m||null===(t=m.create_project)||void 0===t?void 0:t.href,createRepoUrl:(null==m||null===(r=m.create_repository)||void 0===r?void 0:r.href)&&`${null==m||null===(n=m.create_repository)||void 0===n?void 0:n.href}${g}`,importRepoUrl:(null==m||null===(a=m.import_repository)||void 0===a?void 0:a.href)&&`${null==m||null===(o=m.import_repository)||void 0===o?void 0:o.href}${g}`}}})),n("8LKJI",(function(n,a){t(n.exports,"default",(function(){return p}));var o=r("fPPqr"),s=r("9nHZC"),i=r("gQBAa"),l=r("aurzp"),u=r("1gtcM"),d=r("gtaeM");const c={"overview-tab":d.ApdexTask.DashboardOverview,"profile-repositories-link":d.ApdexTask.ProfileRepositories,"repo-branches-link":d.ApdexTask.Branches,"repo-commits-link":d.ApdexTask.Commits,"repo-create-branch-link":d.ApdexTask.RepoCreateBranch,"repo-pullrequests-link":d.ApdexTask.PullRequests,"repo-source-link":d.ApdexTask.Source,"repositories-tab":d.ApdexTask.DashboardRepositories};var p;p=class extends s.PureComponent{getTaskName(){const{href:e,menuItem:t}=this.props;return e===u.default.ui.root()?d.ApdexTask.DashboardOverview:t?"connect_menu_item"===t.type&&"Pipelines"===t.label?d.ApdexTask.PipelineList:"menu_item"===t.type?c[t.id]:void 0:void 0}render(){const{children:t,href:r}=this.props,n=this.getTaskName();return n?e(s).createElement(i.default,e(o)({},this.props,{to:r,task:n}),t):e(s).createElement(l.ComponentLinkProxy,this.props,t)}}})),n("4L8Zj",(function(n,a){t(n.exports,"default",(function(){return y}));var o=r("9nHZC"),s=r("agjvf"),i=r("3Hk3S"),l=r("9ZSW0"),u=r("dEKDm"),d=r("jp7ng"),c=r("aP6k3"),p=r("h39Sh"),f=r("94iOw"),m=r("4tAgz"),g=r("kh0W2"),h=r("ksfVj"),b=r("1ZBmx"),v=r("cgb4g"),x=r("bPzm5"),E=r("avsBE");var y;y=class extends o.PureComponent{constructor(t){super(t),this.containerRef=void 0,this.updateRepositoriesState=()=>{if(!this.containerRef)return;const e=((e,t,r,n=(0,c.gridSize)())=>{for(let a=t;a>=2;a--)if(r>=e*a+n*(a-1))return a;return 1})(E.CARD_MIN_WIDTH,6,this.containerRef.offsetWidth);this.setState({numberOfVisibleRepos:e})},this.showMoreRecentlyViewedRepos=()=>{this.setState((e=>({isShowMoreRepos:!e.isShowMoreRepos})))},this.renderMoreRepositories=()=>e(o).createElement(E.ViewMoreRepositoryCardsContainer,{ref:e=>{this.containerRef=e}},this.props.repositories.map(((t,r)=>e(o).createElement(E.RepositoryCardWrapper,{key:t.uuid,cardCount:this.state.numberOfVisibleRepos},e(o).createElement(v.default,{repository:t,index:r,isVisible:!0}))))),this.state={numberOfVisibleRepos:5,isShowMoreRepos:!1}}componentDidMount(){this.updateRepositoriesState(),window.addEventListener("resize",this.updateRepositoriesState)}componentWillUnmount(){window.removeEventListener("resize",this.updateRepositoriesState)}renderCards(){const{isLoading:t,repositories:r}=this.props,n=r.slice(0,6);return t||b.IS_SERVER?e(o).createElement(E.SpinnerContainer,null,e(o).createElement(u.default,{size:"large"})):this.state.isShowMoreRepos?this.renderMoreRepositories():e(o).createElement(E.RepositoryCardsContainer,{ref:e=>{this.containerRef=e}},n.length?n.map(((t,r)=>e(o).createElement(v.default,{key:t.uuid,repository:t,isVisible:r+1<=this.state.numberOfVisibleRepos,minWidth:E.CARD_MIN_WIDTH,index:r}))):e(o).createElement(v.default,{index:0,isVisible:!0,minWidth:E.CARD_MIN_WIDTH}))}render(){const{repositories:t,match:r,createRepoUrl:n}=this.props,{workspaceSlug:a}=r.params,u=t.length?e(o).createElement(E.ActionsWrapper,null,t.length>6&&e(o).createElement(e(o).Fragment,null,e(o).createElement(E.ShowMoreButton,{spacing:"none",appearance:"link",onClick:this.showMoreRecentlyViewedRepos},this.state.isShowMoreRepos?e(o).createElement(s.FormattedMessage,x.default.showFewerResentReposButton):e(o).createElement(s.FormattedMessage,x.default.showMoreResentReposButton)),e(o).createElement(E.DecorativeDot,null)),e(o).createElement(g.default,{to:h.default.ui.getLinkToRepos(a)},e(o).createElement(s.FormattedMessage,x.default.viewAllReposLink))):void 0;return e(o).createElement(E.Section,null,e(o).createElement(l.default,{actions:u,disableTitleStyles:!0},e(o).createElement(E.HeaderContentWrapper,null,e(o).createElement(E.Title,null,e(o).createElement(s.FormattedMessage,x.default.recentReposHeader)),n&&e(o).createElement(f.default,{content:e(o).createElement(s.FormattedMessage,x.default.createLink),position:"right"},e(o).createElement(E.CreateRepositoryButton,{href:n,"data-testid":"create-repo-plus-icon-btn"},e(o).createElement(e(i),{label:"",primaryColor:(0,p.default)("color.icon",d.N500),secondaryColor:(0,p.default)("color.icon",d.N500),size:"small"}),e(o).createElement(m.ScreenReadersOnly,null,e(o).createElement(s.FormattedMessage,x.default.createLink)))))),this.renderCards())}}})),n("cgb4g",(function(n,a){t(n.exports,"default",(function(){return h}));var o=r("9nHZC"),s=r("agjvf"),i=r("inFLm"),l=r("lHcJV");r("2MCab");var u=r("kOQqW"),d=r("kUTzS"),c=r("f9pRZ"),p=r("98k7E"),f=r("fdeIy"),m=r("2qZNx"),g=r("bPzm5");var h=(0,s.injectIntl)((({repository:t,isVisible:r,index:n,minWidth:a,intl:h})=>{const{createRepoUrl:b}=(0,p.useWorkspaceNavActionUrls)(),{publishLinkClickEvent:v}=(0,c.useAnalytics)({source:"dashboardScreen"});return e(o).createElement(m.RepositoryCardContainer,{isVisible:r,minWidth:a},e(o).createElement(m.RepositoryLinkContent,null,e(o).createElement(i.default,{src:t?t.links.avatar.href:e(f),appearance:"square",size:"medium",status:(null==t?void 0:t.is_private)&&"locked",name:h.formatMessage(null!=t&&t.is_private?d.default.privateRepositoryLabel:d.default.publicRepositoryLabel)}),t?e(o).createElement(o.Fragment,null,e(o).createElement(m.RepositoryDataContainer,null,e(o).createElement(m.ExtendedRepositoryLink,{onClick:()=>v("repositoryCard",{targetRepositoryUuid:t.uuid,position:n+1}),repository:t},t.name),t.status_counts&&t.statusUrl&&e(o).createElement(m.BuildStatusWrapper,null,e(o).createElement(u.default,{buildCounts:t.status_counts,statusUrl:t.statusUrl,buildFailureTitle:d.default.buildFailureTitle,buildFailureDescription:d.default.buildFailureDescription,iconSize:l.IconSizes.Small}))),e(o).createElement(m.RepositoryDescription,null,t.workspace&&t.workspace.name||t.owner&&t.owner.display_name)):b?e(o).createElement(m.CreateRepositoryLink,{href:b,"data-testid":"create-repo-link"},e(o).createElement(s.FormattedMessage,g.default.createLink)):null))}))})),n("2MCab",(function(e,n){t(e.exports,"BuildStatusConnected",(function(){return r("kOQqW").default}));r("kOQqW")})),n("kOQqW",(function(n,a){t(n.exports,"default",(function(){return p}));var o=r("9nHZC"),s=r("dGzLf"),i=r("a7A34"),l=r("2kKDW"),u=r("k2cPS");class d extends e(o).Component{constructor(...e){super(...e),this.loadBuilds=async()=>{const{buildFailureTitle:e,buildFailureDescription:t}=this.props;try{const e=await fetch((0,u.default)(this.props.statusUrl));if(!e.ok)throw new Error;return(await e.json()).values}catch(r){return this.props.showError({buildFailureTitle:e,buildFailureDescription:t}),[]}}}render(){const{commitStatuses:t,buildCounts:r,iconSize:n,showIcon:a}=this.props;return t&&t.length?e(o).createElement(i.BuildStatus,{showIcon:a,iconSize:n,builds:t}):r?e(o).createElement(i.LazyBuildStatus,{buildCounts:r,loadBuilds:this.loadBuilds,showIcon:a,iconSize:n}):null}}const c={showError:e=>(0,l.showFlag)({type:"error",id:"build-status",title:{msg:e.buildFailureTitle},description:{msg:e.buildFailureDescription},autoDismiss:!0})};var p=(0,s.connect)(null,c)(d)})),n("kUTzS",(function(e,n){t(e.exports,"default",(function(){return a}));var a=(0,r("agjvf").defineMessages)({buildFailureTitle:{id:"frontbucket.repositoryTable.buildFailure",defaultMessage:"Oops!"},buildFailureDescription:{id:"frontbucket.repositoryTable.buildFailureDescription",defaultMessage:"We couldn\u2019t load commit statuses for that repository"},privateRepositoryLabel:{id:"frontbucket.dashboard.repositoryCard.privateRepositoryLabel",defaultMessage:"Private repository"},publicRepositoryLabel:{id:"frontbucket.dashboard.repositoryCard.publicRepositoryLabel",defaultMessage:"Public repository"}})})),n("fdeIy",(function(e,t){e.exports=r("1sJKT").getBundleURL("kR7VT")+"empty-repo-avatar.aa6b33d2.svg"})),n("2qZNx",(function(e,n){t(e.exports,"ExtendedRepositoryLink",(function(){return c})),t(e.exports,"RepositoryCardContainer",(function(){return p})),t(e.exports,"RepositoryDataContainer",(function(){return f})),t(e.exports,"RepositoryDescription",(function(){return m})),t(e.exports,"RepositoryLinkContent",(function(){return g})),t(e.exports,"CreateRepositoryLink",(function(){return h})),t(e.exports,"BuildStatusWrapper",(function(){return b}));var a=r("2xJU3"),o=r("aP6k3"),s=r("jp7ng"),i=r("a3gkp"),l=r("h39Sh"),u=r("cS2SK"),d=r("4x9W6");const c=(0,a.default)(u.default,{target:"eh2v9p60"})("font-weight:500;font-size:14px;text-decoration:none;color:",(0,l.default)("color.text","black"),";",(0,d.overflowEllipsis)()," &:hover,&:visited,&:focus,&:active{text-decoration:none;color:",(0,l.default)("color.text","black"),";}&::before{content:'';position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;}&:focus::before,&:active::before{outline:2px solid ",s.B100,";}"),p=(0,a.default)("div",{target:"eh2v9p61"})("display:",(({isVisible:e})=>e?"block":"none"),";position:relative;box-sizing:border-box;",(({minWidth:e})=>`min-width: ${e}px;`)," width:100%;max-width:",26*(0,o.gridSize)(),"px;background-image:linear-gradient( ",(0,l.default)("color.background.accent.gray.subtlest",s.N20)," 33%,transparent 33% );",i.e100(),";border-radius:",(0,o.borderRadius)(),"px;@media (prefers-reduced-motion:no-preference){&:hover,&:focus{",i.e300(),";transition:box-shadow 0.2s ease 0s;}}& + &{margin-left:",(0,o.gridSize)(),"px;}a{position:relative;z-index:1;}",c,"{outline:none;position:static;}"),f=(0,a.default)("div",{target:"eh2v9p62"})("display:flex;height:",4*(0,o.gridSize)(),"px;align-items:center;justify-content:space-between;"),m=(0,a.default)("small",{target:"eh2v9p63"})("margin:0;display:inline-block;",(0,d.overflowEllipsis)()," max-width:100%;"),g=(0,a.default)("div",{target:"eh2v9p64"})("padding:",2*(0,o.gridSize)(),"px;"),h=(0,a.default)("a",{target:"eh2v9p65"})("display:block;margin:",2*(0,o.gridSize)(),"px 0 ",1.25*(0,o.gridSize)(),"px;"),b=(0,a.default)("div",{target:"eh2v9p66"})("position:relative;z-index:1;button{padding:0 ",(0,o.gridSize)()/2,"px;}")})),n("a3gkp",(function(e,n){t(e.exports,"e100",(function(){return s})),t(e.exports,"e200",(function(){return i})),t(e.exports,"e300",(function(){return l})),t(e.exports,"e400",(function(){return u})),t(e.exports,"e500",(function(){return d}));var a=r("jp7ng"),o=r("kD01A"),s=(0,o.default)({light:"box-shadow: ".concat("var(--ds-shadow-raised, ".concat("0 1px 1px ".concat(a.N50A,", 0 0 1px 1px ").concat(a.N40A),")"),";"),dark:"box-shadow: ".concat("var(--ds-shadow-raised, ".concat("0 1px 1px ".concat(a.DN50A,", 0 0 1px 1px ").concat(a.DN40A),")"),";")}),i=(0,o.default)({light:"box-shadow: ".concat("var(--ds-shadow-overlay, ".concat("0 4px 8px -2px ".concat(a.N50A,", 0 0 1px ").concat(a.N60A),")"),";"),dark:"box-shadow: ".concat("var(--ds-shadow-overlay, ".concat("0 4px 8px -2px ".concat(a.DN50A,", 0 0 1px ").concat(a.DN60A),")"),";")}),l=(0,o.default)({light:"box-shadow: ".concat("var(--ds-shadow-overlay, ".concat("0 8px 16px -4px ".concat(a.N50A,", 0 0 1px ").concat(a.N60A),")"),";"),dark:"box-shadow: ".concat("var(--ds-shadow-overlay, ".concat("0 8px 16px -4px ".concat(a.DN50A,", 0 0 1px ").concat(a.DN60A),")"),";")}),u=(0,o.default)({light:"box-shadow: ".concat("var(--ds-shadow-overlay, ".concat("0 12px 24px -6px ".concat(a.N50A,", 0 0 1px ").concat(a.N60A),")"),";"),dark:"box-shadow: ".concat("var(--ds-shadow-overlay, ".concat("0 12px 24px -6px ".concat(a.DN50A,", 0 0 1px ").concat(a.DN60A),")"),";")}),d=(0,o.default)({light:"box-shadow: ".concat("var(--ds-shadow-overlay, ".concat("0 20px 32px -8px ".concat(a.N50A,", 0 0 1px ").concat(a.N60A),")"),";"),dark:"box-shadow: ".concat("var(--ds-shadow-overlay, ".concat("0 20px 32px -8px ".concat(a.DN50A,", 0 0 1px ").concat(a.DN60A),")"),";")})})),n("bPzm5",(function(e,n){t(e.exports,"default",(function(){return a}));var a=(0,r("agjvf").defineMessages)({recentReposHeader:{id:"frontbucket.dashboard.overview.recentRepositoriesHeader",defaultMessage:"Recent repositories"},viewAllReposLink:{id:"frontbucket.dashboard.overview.viewAllReposLink",defaultMessage:"View all"},showMoreResentReposButton:{id:"frontbucket.dashboard.overview.showMoreResentReposButton",defaultMessage:"Show more"},showFewerResentReposButton:{id:"frontbucket.dashboard.overview.showFewerResentReposButton",defaultMessage:"Show fewer"},emptyState:{id:"frontbucket.dashboard.overview.repositoryCard.emptyState",defaultMessage:"Once you view or create a repository, it will appear here."},createLink:{id:"frontbucket.dashboard.overview.repositoryCard.emptyStateCreateRepositoryLink",defaultMessage:"Create repository"}})})),n("avsBE",(function(e,n){t(e.exports,"CARD_MIN_WIDTH",(function(){return c})),t(e.exports,"RepositoryCardsContainer",(function(){return p})),t(e.exports,"ViewMoreRepositoryCardsContainer",(function(){return f})),t(e.exports,"RepositoryCardWrapper",(function(){return m})),t(e.exports,"ActionsWrapper",(function(){return g})),t(e.exports,"ShowMoreButton",(function(){return h})),t(e.exports,"DecorativeDot",(function(){return b})),t(e.exports,"Section",(function(){return v})),t(e.exports,"Title",(function(){return x})),t(e.exports,"SpinnerContainer",(function(){return E})),t(e.exports,"CreateRepositoryButton",(function(){return y})),t(e.exports,"HeaderContentWrapper",(function(){return R}));var a=r("2xJU3"),o=r("EKmRU"),s=r("jp7ng"),i=r("a3gkp"),l=r("aP6k3"),u=r("dCDrX"),d=r("h39Sh");const c=156,p=(0,a.default)("div",{target:"e7hkw2i0"})({name:"k008qs",styles:"display:flex;"}),f=(0,a.default)("div",{target:"e7hkw2i1"})("display:flex;flex-wrap:wrap;margin:0 -",(0,l.gridSize)()/2,"px;"),m=(0,a.default)("div",{target:"e7hkw2i2"})("min-width:",c,"px;",(({cardCount:e})=>`flex: 0 0 ${100/e}%`),";box-sizing:border-box;margin-bottom:",2*(0,l.gridSize)(),"px;padding:0 ",(0,l.gridSize)()/2,"px;"),g=(0,a.default)("div",{target:"e7hkw2i3"})({name:"sdn32z",styles:"display:flex;justify-content:flex-end;align-items:baseline;"}),h=(0,a.default)(o.default,{target:"e7hkw2i4"})({name:"pelz90",styles:"font-weight:400;"}),b=(0,a.default)("span",{target:"e7hkw2i5"})("display:inline-block;&::before{content:'\\2022';width:",2*(0,l.gridSize)(),"px;display:inline-block;text-align:center;color:",(0,d.default)("color.text.information",s.B400),";}"),v=(0,a.default)("section",{target:"e7hkw2i6"})("margin-bottom:",4*(0,l.gridSize)(),"px;"),x=(0,a.default)("h2",{target:"e7hkw2i7"})(u.h600(),";"),E=(0,a.default)("section",{target:"e7hkw2i8"})("height:108px;margin-top:",4*(0,l.gridSize)(),"px;text-align:center;"),y=(0,a.default)("a",{target:"e7hkw2i9"})("display:flex;justify-content:center;align-items:center;margin-left:",1.5*(0,l.gridSize)(),"px;border-radius:50%;height:",2.25*(0,l.gridSize)(),"px;width:",2.25*(0,l.gridSize)(),"px;border:1px solid ",(0,d.default)("color.border",s.N30),";",i.e100(),";@media (prefers-reduced-motion:no-preference){&:hover,&:focus{",i.e200(),";transition:box-shadow 0.2s ease 0s;}}"),R=(0,a.default)("div",{target:"e7hkw2i10"})({name:"x1sij0",styles:"display:flex;align-items:baseline;"})})),n("aXVcq",(function(n,a){t(n.exports,"default",(function(){return R}));var o=r("fPPqr"),s=r("9nHZC"),i=r("agjvf"),l=r("dGzLf"),u=r("hwElN"),d=r("EKmRU"),c=r("7T2bU"),p=r("3aKBb"),f=r("9490P");r("kGE65");var m=r("i8uLY"),g=r("98k7E"),h=r("5utbt"),b=r("6aoKW"),v=r("5p2iB"),x=r("7A5Cn"),E=r("eUWsQ");const y=()=>{const t=(0,l.useSelector)(h.getCurrentWorkspace),r=(null==t?void 0:t.slug)||"",{createRepoUrl:n,importRepoUrl:a}=(0,g.useWorkspaceNavActionUrls)(),y=(0,s.useCallback)((()=>n||a?v.default.workspaceUiEmptyStateDescription:v.default.workspaceUiEmptyStateNoCTADescription),[n,a]);return(0,s.useEffect)((()=>{(0,b.publishScreenEvent)("emptyState")}),[]),e(s).createElement(x.DashboardOverviewEmptyState,null,e(s).createElement(x.EmptyStateImage,{src:e(E)}),e(s).createElement("div",null,e(s).createElement(x.EmptyStateTitle,null,e(s).createElement(i.FormattedMessage,v.default.header)),e(s).createElement(x.Description,null,e(s).createElement(i.FormattedHTMLMessage,e(o)({values:{workspaceId:r}},y()))),(n||a)&&e(s).createElement(u.default,null,n&&e(s).createElement(e(s).Fragment,null,e(s).createElement(c.default,{name:"welcome-banner-create-repo-button"},e(s).createElement(d.default,{appearance:"primary",href:n,onClick:()=>(0,b.publishUiEvent)(f.createRepositoryClicked)},e(s).createElement(i.FormattedMessage,m.default.createRepositoryButton))),e(s).createElement(p.EngagementSpotlight,{engagementId:"welcome-banner-create-repo-button"})),a&&e(s).createElement(d.default,{href:a,onClick:()=>(0,b.publishUiEvent)(f.importRepositoryClicked)},e(s).createElement(i.FormattedMessage,v.default.importRepositoryButton)))))};var R=e(s).memo(y)})),n("7T2bU",(function(n,a){t(n.exports,"default",(function(){return l}));var o=r("9nHZC"),s=r("5cScH"),i=r("kBIj3"),l=function(t){var r=t.children,n=t.name;return e(o).createElement(i.TargetConsumer,null,(function(t){return t?e(o).createElement(e(s),{innerRef:t(n)},e(o).createElement(e(o).Fragment,null,r)):r}))}})),n("9490P",(function(e,r){t(e.exports,"createRepositoryClicked",(function(){return a})),t(e.exports,"importRepositoryClicked",(function(){return o}));const n="yourWorkDashboard",a={action:"clicked",actionSubject:"button",actionSubjectId:"createRepositoryEmptyYourWorkDashboardButton",source:n},o={action:"clicked",actionSubject:"button",actionSubjectId:"importRepositoryEmptyYourWorkDashboardButton",source:n}})),n("kGE65",(function(e,n){t(e.exports,"commonMessages",(function(){return r("i8uLY").default})),t(e.exports,"paginationMessages",(function(){return r("4n0pl").default}));r("i8uLY"),r("4n0pl")})),n("4n0pl",(function(e,n){t(e.exports,"default",(function(){return a}));var a=(0,r("agjvf").defineMessages)({next:{id:"frontbucket.pagination.nextLink",defaultMessage:"Next"},previous:{id:"frontbucket.pagination.previousLink",defaultMessage:"Prev"}})})),n("5p2iB",(function(e,n){t(e.exports,"default",(function(){return a}));var a=(0,r("agjvf").defineMessages)({workspaceUiEmptyStateDescription:{id:"frontbucket.dashboard.overview.workspaceUiEmptyStateDescription",defaultMessage:"Get started building your personal projects, testing out ideas, and more in your {workspaceId} workspace."},workspaceUiEmptyStateNoCTADescription:{id:"frontbucket.dashboard.overview.workspaceUiEmptyStateNoCTADescription",defaultMessage:"Let's get started! <b>Your work</b> is where you can find any repositories and pull requests that you are reviewing within this workspace."},header:{id:"frontbucket.dashboard.overview.emptyStateHeader",defaultMessage:"Welcome to Bitbucket!"},importRepositoryButton:{id:"frontbucket.dashboard.overview.emptyStateImportRepositoryButton",defaultMessage:"Import repository"}})})),n("7A5Cn",(function(e,n){t(e.exports,"DashboardOverviewEmptyState",(function(){return u})),t(e.exports,"EmptyStateImage",(function(){return d})),t(e.exports,"EmptyStateTitle",(function(){return c})),t(e.exports,"Description",(function(){return p}));var a=r("2xJU3"),o=r("jp7ng"),s=r("dCDrX"),i=r("h39Sh"),l=r("3UVNu");const u=(0,a.default)("div",{target:"e1ektp7l0"})("display:flex;align-items:flex-start;border-radius:",(0,i.default)("border.radius","3px"),";padding:",(0,i.default)("space.500","40px")," ",(0,i.default)("space.800","64px"),";margin:",(0,i.default)("space.300","24px")," 0 ",(0,i.default)("space.600","48px"),";background-color:",(0,i.default)("color.background.neutral",o.N20),";",l.media.upToMedium(`\n    padding: ${(0,i.default)("space.300","24px")} ${(0,i.default)("space.400","32px")};\n  `)," ",l.media.upToSmall(`\n    padding: ${(0,i.default)("space.300","24px")} ${(0,i.default)("space.100","8px")};\n    flex-direction: column;\n  `)," ",l.media.upToXSmall(`\n    a[type="button"] {\n      padding: 0 ${(0,i.default)("space.050","4px")};\n    }\n  `),""),d=(0,a.default)("img",{target:"e1ektp7l1"})("margin-right:",(0,i.default)("space.400","32px"),";",l.media.upToSmall(`\n    margin: 0 auto ${(0,i.default)("space.200","16px")};\n  `)," min-width:1px;max-width:200px;width:100%;"),c=(0,a.default)("h2",{target:"e1ektp7l2"})(s.h600(),";"),p=(0,a.default)("p",{target:"e1ektp7l3"})("margin:",(0,i.default)("space.300","24px")," 0 ",(0,i.default)("space.200","16px"),";")})),n("eUWsQ",(function(e,t){e.exports=r("1sJKT").getBundleURL("kR7VT")+"empty-state.c9bcc4ee.svg"})),n("grlzv",(function(n,a){t(n.exports,"default",(function(){return T}));var o=r("9nHZC"),s=r("agjvf"),i=r("dGzLf"),l=r("e188l"),u=r("bv0Ws"),d=r("dEKDm"),c=r("jyUKE"),p=r("90kWr"),f=r("bgHZM"),m=r("9waDg"),g=r("erZj9"),h=r("dqY9c"),b=r("4EtqP"),v=r("6aoKW"),x=r("bYrER"),E=r("8N5Zm"),y=r("fnCcg"),R=r("6OyCO"),S=r("g2pn3"),k=r("aeAhL");const w=()=>e(o).createElement(E.SectionHeading,null,e(o).createElement(E.Title,null,e(o).createElement(s.FormattedMessage,y.default.jiraIssuesTitle))),C=(0,s.injectIntl)((({intl:t,onRetry:r})=>e(o).createElement(l.default,{appearance:"error",actions:[e(o).createElement(u.default,{key:"try-again-link",onClick:r},t.formatMessage(y.default.tryAgainLink))],title:t.formatMessage(y.default.jiraSitesFailedToLoadMessage)},null))),M=()=>{const{workspaceSlug:t}=(0,h.useParams)();return e(o).createElement(e(o).Fragment,null,e(o).createElement(w,null),e(o).createElement(x.TableSectionEmptyStateWrapper,null,e(o).createElement(s.FormattedMessage,y.default.jiraEmptyStateDescription),e(o).createElement("a",{href:b.default.ui.settingsJiraIntegration(t),target:"_blank"},e(o).createElement(s.FormattedMessage,y.default.connectJiraSites))))},q=()=>{const t=(0,i.useDispatch)();(0,o.useEffect)((()=>{t((0,g.initDashboardJiraIssues)())}),[t]);const r=(0,i.useSelector)((e=>e.jira.dashboardJiraIssues)),{defaultSiteCloudId:n,availableSites:a,selectedSite:s,availableSitesLoadingStatus:l,jiraIssues:u,jiraIssuesCount:c,jiraIssuesJql:h,jiraIssuesLoadingStatus:b}=r;(0,f.useTrackLoadingState)("available-sites",l===p.LoadingStatus.Fetching),(0,f.useTrackLoadingState)("jira-issues",b===p.LoadingStatus.Fetching),(0,o.useEffect)((()=>{l===p.LoadingStatus.Success&&b===p.LoadingStatus.Success&&(0,v.publishScreenEvent)("dashboardJiraIssuesTable",{sites:a.length,issues:c})}),[l,b,a,c]);const x=(0,o.useCallback)((e=>{(0,v.publishUiEvent)({action:"clicked",actionSubject:"button",actionSubjectId:"dashboardJiraIssueCreateBranch",source:"dashboardJiraIssuesTable"}),t((0,m.openCreateBranchGlobalDialog)()),t((0,m.setJiraIssue)({key:e.key,summary:e.summary,type:e.issueType.name}))}),[t]);if(l===p.LoadingStatus.Success)return 0!==a.length&&s?e(o).createElement("div",null,e(o).createElement(w,null),a.length>1&&e(o).createElement(R.SiteChooserWrapper,null,e(o).createElement(k.SiteChooser,{sites:a,selected:s,loadingStatus:l,onSelectedChange:e=>{(0,v.publishUiEvent)({action:"changed",actionSubject:"option",actionSubjectId:"dashboardJiraIssuesSiteChooser",source:"dashboardScreen"}),t((0,g.onDashboardJiraSiteChange)(e))}})),e(o).createElement(S.default,{jiraUrl:s.url,jiraIssues:u,jiraIssuesCount:c,jiraIssuesJql:h,isLoading:b===p.LoadingStatus.Fetching,isError:b===p.LoadingStatus.Failed,onCreateBranchButtonClick:x})):e(o).createElement(M,null);if(l===p.LoadingStatus.Fetching){if(n)return e(o).createElement("div",null,e(o).createElement(w,null),e(o).createElement(R.SpinnerContainer,null,e(o).createElement(d.default,{testId:"jira-issues-loading-sites-spinner",size:"medium"})))}else if(l===p.LoadingStatus.Failed)return e(o).createElement("div",null,e(o).createElement(w,null),e(o).createElement(C,{onRetry:()=>t((0,g.initDashboardJiraIssues)())}));return null};var T=()=>e(o).createElement(c.SectionErrorBoundary,{sectionHeading:e(o).createElement(w,null),sentryComponentId:"jira-issues-table"},e(o).createElement(q,null))})),n("8N5Zm",(function(e,n){t(e.exports,"SectionHeading",(function(){return i})),t(e.exports,"Title",(function(){return l})),t(e.exports,"TableWrapper",(function(){return u}));var a=r("2xJU3"),o=r("aP6k3"),s=r("dCDrX");const i=(0,a.default)("div",{target:"edn0iet0"})("margin-top:",4*(0,o.gridSize)(),"px;margin-bottom:",2*(0,o.gridSize)(),"px;"),l=(0,a.default)("h2",{target:"edn0iet1"})(s.h600(),";"),u=(0,a.default)("div",{target:"edn0iet2"})("margin-bottom:",4*(0,o.gridSize)(),"px;")})),n("fnCcg",(function(e,n){t(e.exports,"default",(function(){return a}));var a=(0,r("agjvf").defineMessages)({jiraIssuesTitle:{id:"frontbucket.dashboard.overview.jiraIssuesTitle",defaultMessage:"Jira issues"},jiraSitesFailedToLoadMessage:{id:"frontbucket.dashboard.overview.jiraSitesFailedToLoadMessage",defaultMessage:"We couldn\u2019t load your Jira sites"},tryAgainLink:{id:"frontbucket.dashboard.overview.tryAgainLink",defaultMessage:"Try again in a few moments"},jiraEmptyStateDescription:{id:"frontbucket.dashboard.overview.jiraEmptyStateDescription",defaultMessage:"Connect your commits, branches and pull requests to issues, and view, edit and transition issues from Bitbucket."},connectJiraSites:{id:"frontbucket.dashboard.overview.connectJiraSites",defaultMessage:"Connect Jira sites"}})})),n("6OyCO",(function(e,n){t(e.exports,"SpinnerContainer",(function(){return s})),t(e.exports,"SiteChooserWrapper",(function(){return i}));var a=r("2xJU3"),o=r("aP6k3");const s=(0,a.default)("div",{target:"e18mq3s40"})({name:"dtw560",styles:"align-items:center;display:flex;justify-content:center;"}),i=(0,a.default)("div",{target:"e18mq3s41"})("margin-bottom:",(0,o.gridSize)()/2,"px;")})),n("g2pn3",(function(n,a){t(n.exports,"default",(function(){return w}));var o=r("fPPqr"),s=r("9nHZC"),i=r("cJH1T"),l=r("agjvf"),u=r("inFLm"),d=r("5WD8l"),c=r("c83ir"),p=r("kb4D4"),f=r("7doh5"),m=r("aP6k3"),g=r("94iOw"),h=r("avtnY");r("lKLlq");var b=r("ebcyK"),v=r("emcWA"),x=r("9waMY"),E=r("8N5Zm"),y=r("5YC7e"),R=r("8Xcst"),S=r("bjAOJ");class k extends s.PureComponent{constructor(...t){super(...t),this.state={isExpanded:!1},this.renderHeaders=()=>e(s).createElement("tr",null,e(s).createElement(v.TableHeader,{colSpan:8},e(s).createElement(l.FormattedMessage,R.default.issueHeader)),e(s).createElement(v.TableHeader,{width:13*(0,m.gridSize)()+"px"},e(s).createElement(l.FormattedMessage,R.default.statusHeader)),e(s).createElement(v.TableHeaderMobileHidden,{colSpan:2},e(s).createElement(l.FormattedMessage,R.default.assigneeHeader)),e(s).createElement(v.TableHeaderMobileHidden,{colSpan:1,textAlign:"center"},e(s).createElement(l.FormattedMessage,R.default.actionsHeader))),this.renderRow=(t,r)=>{const{intl:n,onCreateBranchButtonClick:a}=this.props,{assignee:o,status:i}=t;return e(s).createElement(S.TableRow,{"data-qa":"jira-issue-row",isFocused:r,key:t.key},e(s).createElement(v.TableCell,{colSpan:8},this.renderSummary(t)),e(s).createElement(v.TableCell,{widthWithUnit:13*(0,m.gridSize)()+"px"},this.renderStatus(i)),e(s).createElement(v.TableCellMobileHidden,{colSpan:2},o&&e(s).createElement(u.default,{name:o.displayName,appearance:"circle",size:"medium",src:o.avatarUrls["128x128"]||o.avatarUrls["48x48"]})),e(s).createElement(v.TableCellMobileHidden,{colSpan:1,centered:!0},e(s).createElement(d.default,{triggerType:"button",triggerButtonProps:{appearance:"subtle",iconBefore:e(s).createElement(e(p),{label:n.formatMessage(R.default.moreLabel)})},shouldFlip:!1,position:"bottom right"},e(s).createElement(c.default,{href:this.createBranchUrl(t),onClick:e=>{e.preventDefault(),a(t)}},e(s).createElement(l.FormattedMessage,R.default.createBranchButton)))))},this.renderSummary=t=>e(s).createElement(S.SummaryContainer,null,e(s).createElement(S.SummaryInnerContainer,null,e(s).createElement(h.JiraIssueLink,{jiraIssue:t,jiraUrl:this.props.jiraUrl,uiEvent:{action:"clicked",actionSubject:"link",actionSubjectId:"dashboardJiraIssue",source:"dashboardJiraIssuesTable"}})),e(s).createElement(y.DevActivityComponent,{cloudId:t.site.cloudId,issueId:t.id})),this.renderStatus=t=>{const r="indeterminate"===t.category?"inprogress":"default";return e(s).createElement(g.default,{content:t.name},e(s).createElement(f.default,{appearance:r},t.name))},this.renderEmptyState=()=>{const{jiraUrl:t}=this.props;return e(s).createElement(S.TableRow,null,e(s).createElement(v.TableCell,{colSpan:12},e(s).createElement(S.EmptyStateWrapper,null,e(s).createElement("p",null,e(s).createElement(l.FormattedMessage,R.default.noIssuesMessage)),e(s).createElement("p",null,e(s).createElement("a",{href:t},e(s).createElement(l.FormattedMessage,R.default.goToJiraLink))))))},this.renderExpand=t=>e(s).createElement("p",null,e(s).createElement(S.LinkButton,{appearance:"link",testId:"show-more-btn",onClick:this.onExpand},e(s).createElement(l.FormattedMessage,e(o)({},R.default.expandButton,{values:{hiddenCount:t}})))),this.renderViewMoreInJira=()=>{const{jiraUrl:t,jiraIssuesJql:r}=this.props,n=`${t}/issues/?${e(i).stringify({jql:r})}`;return e(s).createElement(S.LinkButton,{appearance:"link",href:n,testId:"view-more-in-jira-btn"},e(s).createElement(l.FormattedMessage,R.default.viewMoreInJiraLink))},this.createBranchUrl=e=>x.default.ui.createBranch(e.key,e.issueType.name,e.summary),this.onExpand=()=>{this.setState({isExpanded:!0})}}render(){const{focusedRowIndex:t,isLoading:r,isError:n,jiraIssues:a,jiraIssuesCount:o,onLoadPage:i,renderPagination:l}=this.props,{isExpanded:u}=this.state;if(r)return e(s).createElement(b.default,{isLoading:r,renderHeaders:this.renderHeaders,rows:["unused"]},(()=>e(s).createElement(S.TableRow,{key:0},e(s).createElement(v.TableCell,{colSpan:12},e(s).createElement(S.EmptyStateWrapper,null)))));const d=a.slice(0,u?15:5),c=Math.min(a.length,15)-d.length,p=!u&&c>0,f=u&&d.length<o;return e(s).createElement(E.TableWrapper,null,e(s).createElement(b.default,{renderEmptyState:this.renderEmptyState,isError:n,onClickErrorState:i,renderHeaders:this.renderHeaders,renderPagination:l,rows:d},((e,r)=>this.renderRow(e,r===t))),p&&this.renderExpand(c),f&&this.renderViewMoreInJira())}}k.defaultProps={pullRequests:[],isError:!1,isLoading:!1};var w=(0,l.injectIntl)(k)})),n("lKLlq",(function(e,n){t(e.exports,"default",(function(){return r("ebcyK").default})),t(e.exports,"TransparentLoadingCover",(function(){return r("2THU3").default})),t(e.exports,"BylineSection",(function(){return r("emcWA").BylineSection})),t(e.exports,"ColumnDefinitionDesktopOnly",(function(){return r("emcWA").ColumnDefinitionDesktopOnly})),t(e.exports,"ColumnDefinitionMobileHidden",(function(){return r("emcWA").ColumnDefinitionMobileHidden})),t(e.exports,"TableHeader",(function(){return r("emcWA").TableHeader})),t(e.exports,"TableHeaderMobileHidden",(function(){return r("emcWA").TableHeaderMobileHidden})),t(e.exports,"TableHeaderMobileOnly",(function(){return r("emcWA").TableHeaderMobileOnly})),t(e.exports,"TableCell",(function(){return r("emcWA").TableCell})),t(e.exports,"TableCellMobileHidden",(function(){return r("emcWA").TableCellMobileHidden})),t(e.exports,"TableCellMobileOnly",(function(){return r("emcWA").TableCellMobileOnly})),t(e.exports,"TabletByline",(function(){return r("emcWA").TabletByline}));r("ebcyK"),r("2THU3"),r("emcWA")})),n("ebcyK",(function(n,a){t(n.exports,"default",(function(){return s}));var o=r("9nHZC");r("9ovwz");var s,i=r("i2Her"),l=r("emcWA"),u=r("2THU3");(s=class extends o.PureComponent{renderTableRows(){const{children:t,rows:r,renderBeforeRows:n}=this.props;return e(o).createElement(o.Fragment,null,n&&n(),r.map(t))}renderTable(){const{renderEmptyState:t,isLoading:r,rows:n,renderColumnDefinitions:a,renderHeaders:s,renderPagination:i}=this.props,u=!r&&!n.length;return e(o).createElement(o.Fragment,null,e(o).createElement(l.Table,{isLoading:r},a(),s&&e(o).createElement("thead",null,s()),e(o).createElement(l.TableBody,{showHeaders:!!s},u?t():this.renderTableRows())),i&&i())}render(){const{isError:t,isLoading:r,onClickErrorState:n,shouldShowLoadingCover:a,renderAnnouncer:s}=this.props;return t?e(o).createElement(i.default,{onClick:n}):e(o).createElement(l.Container,null,s&&s(),a&&r&&e(o).createElement(u.default,null),this.renderTable())}}).defaultColumnDefinitions=()=>null,s.defaultEmptyState=()=>null,s.defaultProps={renderEmptyState:s.defaultEmptyState,isError:!1,isLoading:!1,renderBeforeRows:null,renderColumnDefinitions:s.defaultColumnDefinitions,renderHeaders:null,renderPagination:null,rows:[],shouldShowLoadingCover:!0}})),n("9ovwz",(function(e,n){t(e.exports,"default",(function(){return r("68VOJ").default})),t(e.exports,"ErrorState",(function(){return r("i2Her").default}));r("68VOJ"),r("i2Her")})),n("68VOJ",(function(n,a){t(n.exports,"default",(function(){return f}));var o=r("9nHZC"),s=r("5eELe"),i=r("4dJkZ"),l=r("g3VDW"),u=r("9hjCt"),d=r("jp7ng"),c=r("h39Sh"),p=r("6P4iF");var f;f=class extends e(o).PureComponent{render(){const{iconType:t,title:r,messageType:n,className:a}=this.props;return e(o).createElement(p.GenericMessageWrapper,{messageType:n,className:a},e(o).createElement(p.GenericMessageHeader,null,(f=t,{connectivity:e(o).createElement(e(i),{primaryColor:(0,c.default)("color.icon.information",d.B400),label:""}),confirmation:e(o).createElement(e(s),{primaryColor:(0,c.default)("color.icon.success",d.G300),label:""}),info:e(o).createElement(e(l),{primaryColor:(0,c.default)("color.icon.discovery",d.P300),label:""}),warning:e(o).createElement(e(u),{primaryColor:(0,c.default)("color.icon.warning",d.Y300),label:""}),error:e(o).createElement(e(i),{primaryColor:(0,c.default)("color.icon.danger",d.R300),label:""})}[f]||null),e(o).createElement(p.GenericMessageTitle,null,r)),this.props.children);var f}}})),n("6P4iF",(function(e,n){t(e.exports,"GenericMessageWrapper",(function(){return i})),t(e.exports,"GenericMessageHeader",(function(){return l})),t(e.exports,"GenericMessageTitle",(function(){return u}));var a=r("2xJU3"),o=r("aP6k3"),s=r("dCDrX");const i=(0,a.default)("div",{target:"ekf877a0"})("align-items:center;display:flex;flex-direction:column;padding:",(e=>"activity"===e.messageType?`${2*(0,o.gridSize)()}px ${(0,o.gridSize)()}px ${2*(0,o.gridSize)()-4}px`:`${3*(0,o.gridSize)()}px ${(0,o.gridSize)()}px`),";text-align:center;p + button{margin-top:",(0,o.gridSize)(),"px;}"),l=(0,a.default)("h5",{target:"ekf877a1"})(s.h400(),";align-items:center;display:flex;"),u=(0,a.default)("span",{target:"ekf877a2"})("padding-left:",(0,o.gridSize)()/2,"px;padding-right:",(0,o.gridSize)()/2,"px;")})),n("i2Her",(function(n,a){t(n.exports,"default",(function(){return p}));var o=r("fPPqr"),s=r("9nHZC"),i=r("agjvf"),l=r("EKmRU"),u=r("l5h3U"),d=r("68VOJ");class c extends s.PureComponent{render(){const{header:t,description:r,onClick:n}=this.props;return e(s).createElement(d.default,{iconType:"error",title:t||e(s).createElement(i.FormattedMessage,u.default.errorHeader)},r||e(s).createElement(i.FormattedMessage,e(o)({tagName:"p"},u.default.errorDescription)),n&&e(s).createElement(l.default,{appearance:"link",onClick:this.props.onClick},e(s).createElement(i.FormattedMessage,u.default.errorLink)))}}var p=c})),n("l5h3U",(function(e,n){t(e.exports,"default",(function(){return a}));var a=(0,r("agjvf").defineMessages)({errorHeader:{id:"frontbucket.errorState.errorHeader",defaultMessage:"Something went wrong..."},errorDescription:{id:"frontbucket.errorState.errorDescription",defaultMessage:"While we check things on our end, contact support if the problem persists."},errorLink:{id:"frontbucket.errorState.link",defaultMessage:"Try again"}})})),n("emcWA",(function(e,n){t(e.exports,"Table",(function(){return u})),t(e.exports,"TableBody",(function(){return c})),t(e.exports,"Container",(function(){return p})),t(e.exports,"TableHeader",(function(){return f})),t(e.exports,"TableHeaderMobileOnly",(function(){return m})),t(e.exports,"TableHeaderMobileHidden",(function(){return g})),t(e.exports,"TableCell",(function(){return h})),t(e.exports,"TableCellMobileOnly",(function(){return b})),t(e.exports,"TableCellMobileHidden",(function(){return v})),t(e.exports,"ColumnDefinitionMobileHidden",(function(){return x})),t(e.exports,"ColumnDefinitionDesktopOnly",(function(){return E})),t(e.exports,"BylineSection",(function(){return y})),t(e.exports,"TabletByline",(function(){return R}));var a=r("2xJU3"),o=r("jp7ng"),s=r("aP6k3"),i=r("h39Sh"),l=r("3UVNu");const u=(0,a.default)("table",{target:"edylmxf0"})("table-layout:fixed;width:100%;pointer-events:",(e=>e.isLoading?"none":"auto"),";margin-top:0;");var d={name:"7n9tpc",styles:"border-width:0;"};const c=(0,a.default)("tbody",{target:"edylmxf1"})((e=>!e.showHeaders&&d),";"),p=(0,a.default)("div",{target:"edylmxf2"})({name:"1jke4yk",styles:"position:relative;width:100%;"}),f=(0,a.default)("th",{target:"edylmxf3"})("color:",(0,i.default)("color.text.subtlest",o.N300),";vertical-align:middle;text-align:",(({textAlign:e})=>e||"initial"),";padding:",(0,s.gridSize)()/2,"px ",(0,s.gridSize)(),"px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;",(({width:e})=>e?`width: ${e};`:null)," &:first-of-type{padding-left:0;}",(({desktopOnly:e})=>e?l.media.upToLarge("\n    display: none;\n  "):null)," ",(({mobileHidden:e})=>e?l.media.upToSmall("\n    display: none;\n  "):null),""),m=(0,a.default)(f,{target:"edylmxf4"})("display:none;",l.media.upToSmall("\n    display: table-cell;\n  "),""),g=(0,a.default)(f,{target:"edylmxf5"})(l.media.upToSmall("\n    display: none;\n  "),""),h=(0,a.default)("td",{target:"edylmxf6"})("overflow:hidden;text-overflow:ellipsis;white-space:nowrap;height:",5*(0,s.gridSize)(),"px;box-sizing:border-box;text-align:",(({centered:e})=>e?"center":"initial"),";max-width:0;",(({widthWithUnit:e})=>e?`width: ${e};`:null),""),b=(0,a.default)(h,{target:"edylmxf7"})("display:none;",l.media.upToSmall("\n    display: table-cell;\n  "),""),v=(0,a.default)(h,{target:"edylmxf8"})(l.media.upToSmall("\n    display: none;\n  "),""),x=(0,a.default)("col",{target:"edylmxf10"})(l.media.upToSmall("\n    display: none;\n  "),""),E=(0,a.default)("col",{target:"edylmxf11"})(l.media.upToLarge("\n    display: none;\n  "),""),y=(0,a.default)("div",{target:"edylmxf12"})("display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%;",l.media.upToSmall(`\n    margin-right: ${(0,s.gridSize)()}px;\n  `)," & + &{&::before{content:'\xb7';margin:0 ",(0,s.gridSize)(),"px;",l.media.upToSmall("\n        display: none;\n      "),"}}"),R=(0,a.default)("div",{target:"edylmxf13"})("display:none;margin-left:",(0,s.gridSize)(),"px;font-size:0.9em;color:",(0,i.default)("color.text.subtlest",o.N200),";",l.media.upToLarge("\n    display: block;\n  "),"")})),n("2THU3",(function(n,a){t(n.exports,"default",(function(){return l}));var o=r("9nHZC"),s=r("dEKDm"),i=r("ftGOz");var l=()=>e(o).createElement(i.Loader,{"data-qa":"transparent-loading-cover"},e(o).createElement(s.default,null))})),n("ftGOz",(function(e,n){t(e.exports,"Loader",(function(){return l}));var a=r("2xJU3"),o=r("jp7ng"),s=r("aP6k3"),i=r("h39Sh");const l=(0,a.default)("div",{target:"ehrsmkl0"})("position:absolute;top:0;left:0;bottom:0;right:0;padding-top:",(0,i.default)("space.800","64px"),";display:flex;align-items:flex-start;justify-content:center;pointer-events:none;background:",(0,i.default)("color.background.neutral.subtle",o.N0),";opacity:0.5;z-index:",s.layers.card()+10,";")})),n("5YC7e",(function(n,a){t(n.exports,"DevActivityComponent",(function(){return l}));var o=r("9nHZC"),s=r("dGzLf"),i=r("bYKDL");const l=({cloudId:t,issueId:r})=>{const n=(0,s.useSelector)((e=>(e.jira.dashboardJiraIssues.devActivity[t]||{})[r]));return n?e(o).createElement(i.DevActivityIcon,{devActivity:n}):null}})),n("bYKDL",(function(n,a){t(n.exports,"DevActivityIcon",(function(){return v}));var o=r("fPPqr"),s=r("9nHZC"),i=r("agjvf"),l=r("4cpJW"),u=r("ckwpp"),d=r("312Xu"),c=r("ftOaK"),p=r("jp7ng"),f=r("h39Sh"),m=r("94iOw"),g=r("jajUg"),h=r("hahvB"),b=r("bMWzt");const v=({devActivity:t})=>{const r=(0,g.useIntl)(),{dataType:n,count:a,open:v,state:x}=t;if(!a)return null;let E,y;switch(n){case h.DevActivityKind.Branch:y=b.default.devStatusOpenBranches,E=e(s).createElement(e(l),{size:"small",label:r.formatMessage(y,{count:a})});break;case h.DevActivityKind.Commit:y=b.default.devStatusCommits,E=e(s).createElement(e(u),{size:"small",label:r.formatMessage(y,{count:a})});break;case h.DevActivityKind.PullRequest:v?(y=b.default.devStatusPullRequests,E=e(s).createElement(e(d),{size:"small",label:r.formatMessage(y,{count:a})})):"DECLINED"===x?(y=b.default.devStatusDeclinedPullRequests,E=e(s).createElement(e(d),{size:"small",label:r.formatMessage(y,{count:a}),primaryColor:(0,f.default)("color.icon.danger",p.R300)})):(y=b.default.devStatusMergedPullRequests,E=e(s).createElement(e(d),{size:"small",label:r.formatMessage(y,{count:a}),primaryColor:(0,f.default)("color.icon.success",p.G300)}));break;case h.DevActivityKind.Deployment:y=b.default.devStatusDeployments,E=e(s).createElement(e(c),{size:"small",label:r.formatMessage(y,{count:a})})}return E&&y?e(s).createElement(m.default,{content:e(s).createElement(i.FormattedMessage,e(o)({},y,{values:{count:a}})),position:"bottom"},E):null}})),n("bMWzt",(function(e,n){t(e.exports,"default",(function(){return a}));var a=(0,r("agjvf").defineMessages)({devStatusCommits:{id:"frontbucket.dashboard.overview.jiraIssues.devStatusCommits",defaultMessage:"{count, plural, one {{count} commit} other {{count} commits}}"},devStatusPullRequests:{id:"frontbucket.dashboard.overview.jiraIssues.devStatusPullRequests",defaultMessage:"{count, plural, one {{count} pull request} other {{count} pull requests}}"},devStatusMergedPullRequests:{id:"frontbucket.dashboard.overview.jiraIssues.devStatusMergedPullRequests",defaultMessage:"{count, plural, one {{count} merged pull request} other {{count} merged pull requests}}"},devStatusDeclinedPullRequests:{id:"frontbucket.dashboard.overview.jiraIssues.devStatusDeclinedPullRequests",defaultMessage:"{count, plural, one {{count} declined pull request} other {{count} declined pull requests}}"},devStatusOpenBranches:{id:"frontbucket.dashboard.overview.jiraIssues.devStatusOpenBranches",defaultMessage:"{count, plural, one {{count} branch} other {{count} branches}}"},devStatusDeployments:{id:"frontbucket.dashboard.overview.jiraIssues.devStatusDeployments",defaultMessage:"{count, plural, one {{count} deployment} other {{count} deployments}}"}})})),n("8Xcst",(function(e,n){t(e.exports,"default",(function(){return a}));var a=(0,r("agjvf").defineMessages)({issueHeader:{id:"frontbucket.dashboard.overview.jiraIssues.issueHeader",defaultMessage:"Issue"},statusHeader:{id:"frontbucket.dashboard.overview.jiraIssues.statusHeader",defaultMessage:"Status"},assigneeHeader:{id:"frontbucket.dashboard.overview.jiraIssues.assigneeHeader",defaultMessage:"Assignee"},actionsHeader:{id:"frontbucket.dashboard.overview.jiraIssues.actionsHeader",defaultMessage:"Actions"},noIssuesMessage:{id:"frontbucket.dashboard.overview.jiraIssues.noIssuesMessage",defaultMessage:"You don't have any assigned issues"},goToJiraLink:{id:"frontbucket.dashboard.overview.jiraIssues.goToJiraLink",defaultMessage:"Go to Jira"},viewMoreInJiraLink:{id:"frontbucket.dashboard.overview.jiraIssues.viewMoreInJiraLink",defaultMessage:"View more in Jira"},moreLabel:{id:"frontbucket.dashboard.overview.jiraIssues.moreLabel",defaultMessage:"More"},createBranchButton:{id:"frontbucket.dashboard.overview.jiraIssues.createBranchButton",defaultMessage:"Create branch"},expandButton:{id:"frontbucket.dashboard.overview.jiraIssues.expandButton",defaultMessage:"Show {hiddenCount} more..."}})})),n("bjAOJ",(function(e,n){t(e.exports,"TableRow",(function(){return l})),t(e.exports,"EmptyStateWrapper",(function(){return u})),t(e.exports,"SummaryContainer",(function(){return d})),t(e.exports,"SummaryInnerContainer",(function(){return c})),t(e.exports,"LinkButton",(function(){return p}));var a=r("2xJU3"),o=r("EKmRU"),s=r("jp7ng"),i=r("h39Sh");const l=(0,a.default)("tr",{target:"e8u50uz0"})("background-color:",(e=>e.isFocused?(0,i.default)("color.background.neutral",s.N20):"initial"),";&:hover,&:focus{background-color:",(0,i.default)("color.background.neutral.subtle.hovered",s.N20),";box-shadow:",(0,i.default)("space.negative.050","-4px")," 0 0 0 ",(0,i.default)("elevation.shadow.raised",s.N20),",",(0,i.default)("space.050","4px")," 0 0 0 ",(0,i.default)("elevation.shadow.raised",s.N20),";border-radius:",(0,i.default)("border.radius","3px"),";}"),u=(0,a.default)("div",{target:"e8u50uz1"})("height:",(0,i.default)("space.1000","80px"),";display:flex;flex-direction:column;align-items:center;justify-content:center;"),d=(0,a.default)("div",{target:"e8u50uz2"})({name:"159i7d",styles:"display:flex;align-items:center;justify-content:space-between;height:100%;"}),c=(0,a.default)("div",{target:"e8u50uz3"})("display:flex;align-items:center;overflow:hidden;height:100%;padding-right:",(0,i.default)("space.050","4px"),";"),p=(0,a.default)(o.default,{target:"e8u50uz4"})({name:"dmm2ml",styles:"padding-left:0;& span{margin-left:0;}"})})),n("aeAhL",(function(n,a){t(n.exports,"SiteChooser",(function(){return g}));var o=r("9nHZC"),s=r("3THTN"),i=r("dWDB7"),l=r("hWEfu"),u=r("6Sj7Y"),d=r("90kWr"),c=r("jajUg"),p=r("dMe1O"),f=r("hKoZW");const m=(t,{context:r})=>"menu"===r?e(o).createElement(f.CustomOption,null,e(o).createElement(l.JiraIcon,{size:"xsmall"}),e(o).createElement(f.CustomOptionLabel,null,t.site.displayName)):t.site.displayName,g=({loadingStatus:t,onSelectedChange:r,selected:n,sites:a})=>{const f=(0,c.useIntl)();if(t===d.LoadingStatus.Success&&1===a.length||!n)return null;const g={label:n.displayName,value:n.cloudId,site:n},h=a.map((e=>({label:e.displayName,value:e.cloudId,site:e}))),b=[{label:f.formatMessage(p.default.siteLabel),options:h}];return e(o).createElement(u.default,{value:g,options:b,closeMenuOnSelect:!0,styles:{container:e=>({...e,maxWidth:600})},maxMenuHeight:400,spacing:"compact",isLoading:(v=t,!(v===d.LoadingStatus.Success||v===d.LoadingStatus.Failed)),onClickPreventDefault:!1,backspaceRemovesValue:!1,onChange:({site:e})=>r(e),formatOptionLabel:m,searchThreshold:10,noOptionsMessage:()=>((e,t,r)=>e===d.LoadingStatus.Failed?r.formatMessage(p.default.sitesFailedToLoadMessage):e===d.LoadingStatus.Success?t.displayName:"")(t,n,f),target:({ref:t})=>e(o).createElement(s.default,{iconBefore:e(o).createElement(l.JiraIcon,{size:"xsmall"}),iconAfter:e(o).createElement(e(i),{label:f.formatMessage(p.default.expandIconLabel)}),ref:t},n.displayName)});var v}})),n("dMe1O",(function(e,n){t(e.exports,"default",(function(){return a}));var a=(0,r("agjvf").defineMessages)({siteLabel:{id:"frontbucket.dashboard.overview.jiraIssues.siteLabel",defaultMessage:"Jira sites"},sitesFailedToLoadMessage:{id:"frontbucket.dashboard.overview.jiraIssues.sitesFailedToLoadMessage",defaultMessage:"We can\u2019t load the sites"},expandIconLabel:{id:"frontbucket.dashboard.overview.jiraIssues.expandIconLabel",defaultMessage:"expand"}})})),n("hKoZW",(function(e,n){t(e.exports,"CustomOption",(function(){return s})),t(e.exports,"CustomOptionLabel",(function(){return i}));var a=r("2xJU3"),o=r("h39Sh");const s=(0,a.default)("div",{target:"ebkunpw0"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),i=(0,a.default)("div",{target:"ebkunpw1"})("padding-left:",(0,o.default)("space.100","8px"),";")})),n("kHtIZ",(function(e,n){t(e.exports,"default",(function(){return s})),t(e.exports,"filterMessages",(function(){return i}));var a=r("agjvf"),o=r("1bQWk"),s=(0,a.defineMessages)({pullRequestsTitle:{id:"frontbucket.dashboard.overview.pullRequestsTitle",defaultMessage:"Pull requests"},clearPullRequestFilters:{id:"frontbucket.dashboard.overview.clearPullRequestFilters",defaultMessage:"Show all"},ownedPullRequestsTableHeader:{id:"frontbucket.dashboard.overview.ownedPullRequestsTableHeader",defaultMessage:"Your pull requests"},pullRequestFilterEmptyState:{id:"frontbucket.dashboard.overview.pullRequestFilterEmptyState",defaultMessage:"You've got some hidden pull requests."},reviewingPullRequestsTableHeader:{id:"frontbucket.dashboard.overview.reviewingPullRequestsTableHeader",defaultMessage:"Pull requests to review"},recentlyClosedPullRequestsHeader:{id:"frontbucket.dashboard.overview.recentlyClosedPullRequestsHeader",defaultMessage:"Recently closed pull requests"},pullRequestFilterGroupTitle:{id:"frontbucket.dashboard.overview.pullRequestFilterGroupTitle",defaultMessage:"Hide pull requests with"},pullRequestFilterIconLabel:{id:"frontbucket.dashboard.overview.pullRequestFilterIconLabel",defaultMessage:"Filter"},pullRequestEmptyState:{id:"frontbucket.dashboard.overview.pullRequestEmptyState",defaultMessage:"You have no open pull requests."},filterBy:{id:"frontbucket.dashboard.overview.pullRequestFilter.label",defaultMessage:"Filter by:"}});const i=(0,a.defineMessages)({[o.PullRequestFilterOptions.SuccessfulBuilds]:{id:"frontbucket.dashboard.overview.successfulBuildsFilter",defaultMessage:"Successful builds"},[o.PullRequestFilterOptions.NeedsReview]:{id:"frontbucket.dashboard.overview.needsMyReviewFilter",defaultMessage:"Needs my review"},[o.PullRequestFilterOptions.OpenTasks]:{id:"frontbucket.dashboard.overview.allTasksResolvedFilter",defaultMessage:"All tasks resolved"}})})),n("lIlbX",(function(n,a){t(n.exports,"default",(function(){return f}));var o=r("fPPqr"),s=r("9nHZC"),i=r("agjvf"),l=r("5SOAu"),u=r("ljuM3"),d=r("jtoEc"),c=r("8N5Zm");const p=5;var f;(f=class extends s.PureComponent{render(){const{pullRequests:t,listSize:r=p,maxListSize:n,isExpanded:a,viewAllHref:f,emptyState:m,Heading:g,showAvatar:h,showState:b,onExpand:v}=this.props,x=t.length,E=a||x<=r||n&&n<=r,y=E?n?t.slice(0,n):t:t.slice(0,r),R=n&&n<=x?n-r:x-y.length;return e(s).createElement(c.TableWrapper,null,e(s).createElement(l.default,{emptyState:m,Heading:g,pullRequests:y,showAvatar:h,showRepository:!0,showState:b}),!E&&e(s).createElement("p",null,e(s).createElement(d.ExpandButton,{appearance:"link",onClick:v,testId:"expand-pr-list-button"},e(s).createElement(i.FormattedMessage,e(o)({},u.default.expandButton,{values:{hiddenCount:R}})))),a&&f&&e(s).createElement(d.ExpandButton,{appearance:"link",href:f,testId:"view-all-prs-link"},e(s).createElement(i.FormattedMessage,u.default.viewAllLink)))}}).defaultProps={isExpanded:!1,onExpand:()=>{},showAvatar:!1,showState:!1}})),n("ljuM3",(function(e,n){t(e.exports,"default",(function(){return a}));var a=(0,r("agjvf").defineMessages)({expandButton:{id:"frontbucket.dashboard.overview.pullRequests.expandButton",defaultMessage:"Show {hiddenCount} more..."},viewAllLink:{id:"frontbucket.dashboard.overview.pullRequests.viewAllLink",defaultMessage:"View all pull requests"}})})),n("jtoEc",(function(e,n){t(e.exports,"ExpandButton",(function(){return s}));var a=r("2xJU3"),o=r("EKmRU");const s=(0,a.default)(o.default,{target:"erbey9e0"})({name:"h3ianf",styles:"padding-left:0;&:focus,&:hover,& span{margin-left:0;padding-left:0;}"})})),n("5wb2R",(function(e,n){t(e.exports,"DASHBOARD_OVERVIEW_LOAD",(function(){return i})),t(e.exports,"PULL_REQUEST_LOAD",(function(){return l})),t(e.exports,"PULL_REQUEST_CREATE_LOAD",(function(){return u})),t(e.exports,"PULL_REQUEST_LIST_LOAD",(function(){return d})),t(e.exports,"BRANCH_LIST_LOAD",(function(){return c})),t(e.exports,"BRANCH_LOAD",(function(){return p})),t(e.exports,"SOURCE_FILE_LOAD",(function(){return f})),t(e.exports,"SOURCE_DIRECTORY_LOAD",(function(){return m})),t(e.exports,"COMMIT_LIST_LOAD",(function(){return g})),t(e.exports,"COMMIT_LOAD",(function(){return h})),t(e.exports,"WORKSPACE_REPOSITORIES_LIST_LOAD",(function(){return b})),t(e.exports,"WORKSPACE_PROJECTS_LIST_LOAD",(function(){return v})),t(e.exports,"WORKSPACE_PULL_REQUESTS_LIST_LOAD",(function(){return x})),t(e.exports,"PR_DIFF_SEGMENT_LOAD",(function(){return E})),t(e.exports,"PR_APPROVE_INTERACTION",(function(){return y})),t(e.exports,"PR_MERGE_INTERACTION",(function(){return R})),t(e.exports,"PR_CREATE_INTERACTION",(function(){return S})),t(e.exports,"MetricSender",(function(){return r("4FqTo").MetricSender})),t(e.exports,"PageSegmentMetricStarter",(function(){return r("4FqTo").PageSegmentMetricStarter})),t(e.exports,"useAbortMetricOnUnmount",(function(){return r("4FqTo").useAbortMetricOnUnmount})),t(e.exports,"startMetric",(function(){return r("4FqTo").startMetric}));var a=r("bR6pE"),o=r("1ZBmx");r("4FqTo");const s=(0,o.appWasServerSideRendered)()?{doneAsFmp:!0}:void 0,i=a.metrics.pageLoad({key:"dashboard.overview",ssr:s}),l=a.metrics.pageLoad({key:"pull-request",ssr:s}),u=a.metrics.pageLoad({key:"pull-request-create",ssr:s}),d=a.metrics.pageLoad({key:"pull-request-list",ssr:s}),c=a.metrics.pageLoad({key:"branch-list",ssr:s}),p=a.metrics.pageLoad({key:"branch",ssr:s}),f=a.metrics.pageLoad({key:"source.file",ssr:s}),m=a.metrics.pageLoad({key:"source.directory",ssr:s}),g=a.metrics.pageLoad({key:"commit-list",ssr:s,featureFlags:["commit-list-default-mainbranch"]}),h=a.metrics.pageLoad({key:"commit",ssr:s}),b=a.metrics.pageLoad({key:"workspace.repositories-list",ssr:s}),v=a.metrics.pageLoad({key:"workspace.projects-list",ssr:s}),x=a.metrics.pageLoad({key:"workspace.pull-requests-list",ssr:s}),E=a.metrics.pageSegmentLoad({key:"pull-request.diff"}),y=a.metrics.interaction({key:"pull-request.approve"}),R=a.metrics.interaction({key:"pull-request.merge"}),S=a.metrics.interaction({key:"pull-request.create"})})),n("2QbQU",(function(e,t){e.exports=Promise.all([r("3T95l")(r("7kEWw").resolve("3KKoK")),r("3T95l")(r("7kEWw").resolve("ATj5b")),r("3T95l")(r("7kEWw").resolve("6E5G4")),r("3T95l")(r("7kEWw").resolve("1zfgw")),r("3T95l")(r("7kEWw").resolve("7tUHW")),r("8iLLr")(r("7kEWw").resolve("cCHlP")),r("3T95l")(r("7kEWw").resolve("gxpJl")),r("3T95l")(r("7kEWw").resolve("cJRkw")),r("3T95l")(r("7kEWw").resolve("gAOp1")),r("3T95l")(r("7kEWw").resolve("4UrlV")),r("3T95l")(r("7kEWw").resolve("dxQYv")),r("3T95l")(r("7kEWw").resolve("fdX1P")),r("3T95l")(r("7kEWw").resolve("2hrpY")),r("3T95l")(r("7kEWw").resolve("gnYEN")),r("3T95l")(r("7kEWw").resolve("15o7Z")),r("3T95l")(r("7kEWw").resolve("lIfZ9")),r("3T95l")(r("7kEWw").resolve("9fVzC")),r("3T95l")(r("7kEWw").resolve("gKKO8")),r("3T95l")(r("7kEWw").resolve("1ITpD")),r("3T95l")(r("7kEWw").resolve("bOqNH")),r("3T95l")(r("7kEWw").resolve("1kDBx")),r("3T95l")(r("7kEWw").resolve("678z9")),r("3T95l")(r("7kEWw").resolve("9KEp9")),r("3T95l")(r("7kEWw").resolve("3p50z")),r("8iLLr")(r("7kEWw").resolve("3xnp9")),r("3T95l")(r("7kEWw").resolve("lfauK"))]).then((()=>r("aArfd")))})),n("koSUb",(function(e,n){t(e.exports,"createProvisioningPageExtensions",(function(){return r("fBGlV").createProvisioningPageExtensions}));r("gF9b5"),r("az9ri"),r("2xNZR"),r("cJdi4"),r("fBGlV"),r("5Ok7t"),r("heeOP")})),n("gF9b5",(function(e,t){})),n("az9ri",(function(e,t){var n=r("heeOP");r("gF9b5"),(0,n.createProductExtensions)(["edition"])})),n("heeOP",(function(e,n){t(e.exports,"createProductExtensions",(function(){return o}));var a=r("dRHNf"),o=function(e){return function(t){var r,n=(r=t,e.reduce((function(e,t){var n=r[t];return void 0!==n&&(e[t]=n),e}),{}));return new(0,a.CrossFlowExtensions)(n)}}})),n("2xNZR",(function(e,t){var n=r("heeOP");r("gF9b5"),(0,n.createProductExtensions)(["edition","migrationSourceUuid","grantAccessTo"])})),n("cJdi4",(function(e,t){var n=r("heeOP");r("gF9b5"),(0,n.createProductExtensions)(["edition","migrationSourceUuid"])})),n("fBGlV",(function(e,n){t(e.exports,"createProvisioningPageExtensions",(function(){return s}));var a=r("heeOP"),o=["provisioningPageOptions"],s=function(e){return(0,a.createProductExtensions)(o)({provisioningPageOptions:e})}})),n("5Ok7t",(function(e,t){r("heeOP")})),n("5LG74",(function(e,n){t(e.exports,"default",(function(){return a}));var a=r("jnPzQ").default})),n("jnPzQ",(function(n,a){t(n.exports,"default",(function(){return d}));var o=r("9nHZC"),s=r("gjey0"),i=r("gtaeM"),l=r("8MzLl");class u extends o.PureComponent{constructor(...e){super(...e),this.linkRef=void 0}componentDidUpdate(e){this.linkRef&&(e.isFocused||!this.props.isFocused?e.isFocused&&!this.props.isFocused&&this.linkRef.blur():this.linkRef.focus())}render(){const{children:t,className:r,href:n,title:a,qaId:u,disableNativeTooltip:d}=this.props,c=t||a,p=d?void 0:a;return e(o).createElement(s.default,{innerRef:e=>this.linkRef=e,to:n,"data-qa":u,className:r,title:p,onClick:e=>{(0,l.startApdex)({task:i.ApdexTask.PullRequest,type:"transition"}),this.props.onClick&&this.props.onClick(e)}},c)}}var d=u})),n("5tvjW",(function(e,n){t(e.exports,"default",(function(){return a}));var a=(0,r("agjvf").defineMessages)({buttonClickedTooltip:{id:"bitkit.copy.buttonClickedTooltip",defaultMessage:"Copied to clipboard"},buttonTooltip:{id:"bitkit.copy.buttonTooltip",defaultMessage:"Copy"},buttonLabel:{id:"bitkit.copy.buttonClickedLabel",defaultMessage:"Copy"},copyableInput:{id:"bitkit.copy.copyableInput",defaultMessage:"Copyable input"}})})),n("iBjuc",(function(e,n){t(e.exports,"Container",(function(){return s})),t(e.exports,"CopyButtonToMatchTextfield",(function(){return i})),t(e.exports,"TextField",(function(){return l}));var a=r("2xJU3"),o=r("aP6k3");const s=(0,a.default)("div",{target:"e1404jix0"})({name:"87uc0g",styles:"align-items:flex-end;display:flex;"}),i=(0,a.default)("div",{target:"e1404jix1"})("margin-left:",`${(0,o.gridSize)()}px`,";& button{height:39px;}"),l=(0,a.default)("div",{target:"e1404jix2"})({name:"1rr4qq7",styles:"flex:1;"})})),n("eTMCV",(function(n,a){t(n.exports,"default",(function(){return g}));var o=r("fPPqr"),s=r("9nHZC"),i=r("agjvf"),l=r("3THTN"),u=r("9GFsf"),d=r("94iOw"),c=r("5tvjW"),p=r("iBjuc"),f=r("cwOlZ");class m extends s.PureComponent{constructor(...e){super(...e),this.state={textIsCopied:!1},this.handleClick=e=>{(0,f.default)(this.props.value||""),this.setState({textIsCopied:!0}),this.props.onClick&&this.props.onClick(e)}}render(){const{intl:t,shouldMatchTextFieldHeight:r=!0,tooltipContent:n,tooltipPosition:a="right",value:i,ariaLabelOverride:f,...m}=this.props,g=e(s).createElement(d.default,{content:this.state.textIsCopied?t.formatMessage(c.default.buttonClickedTooltip):n||t.formatMessage(c.default.buttonTooltip),position:a,onShow:()=>this.setState({textIsCopied:!1}),testId:"copy-button-tooltip"},e(s).createElement(l.default,e(o)({},m,{"aria-label":f||t.formatMessage(c.default.buttonLabel),type:"button",onClick:this.handleClick,iconBefore:e(s).createElement(e(u),{label:""})})));return r?e(s).createElement(p.CopyButtonToMatchTextfield,null,g):g}}var g=(0,i.injectIntl)(m)})),n("cwOlZ",(function(e,r){function n(e){const t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre";const r=document.createElement("iframe");r.sandbox.add("allow-same-origin"),document.body&&document.body.appendChild(r);let n=r.contentWindow;n.document.body.appendChild(t);let a=n.getSelection();(a&&0===a.rangeCount||!a)&&(n=window,a=n.getSelection(),document.body&&document.body.appendChild(t));const o=n.document.createRange();a.removeAllRanges(),o.selectNode(t),a.addRange(o),document.activeElement&&document.activeElement.blur();let s=!1;try{s=n.document.execCommand("copy")}catch(e){}return a.removeAllRanges(),n.document.body.removeChild(t),document.body&&document.body.removeChild(r),s}t(e.exports,"default",(function(){return n}))})),n("7nLM4",(function(e,n){t(e.exports,"Cards",(function(){return r("8bGRX").Cards})),t(e.exports,"Expander",(function(){return r("kqytH").default})),t(e.exports,"default",(function(){return r("25EBq").default})),r("4vdqJ");r("kqytH"),r("25EBq"),r("7L8sv"),r("4mkoQ");r("8bGRX")})),n("4vdqJ",(function(e,n){t(e.exports,"default",(function(){return r("kqytH").default}));r("kqytH")})),n("aSNzx",(function(n,a){t(n.exports,"default",(function(){return o}));var o,s=r("9nHZC"),i=r("94iOw"),l=r("2NOSm");o=class extends s.PureComponent{render(){const{name:t,isFluidWidth:r,ariaHidden:n}=this.props;return e(s).createElement(i.default,{content:t,position:"bottom"},e(s).createElement(l.BranchText,{isFluidWidth:!!r,"aria-hidden":!!n||void 0},this.props.name))}}})),n("2NOSm",(function(e,n){t(e.exports,"BranchText",(function(){return i}));var a=r("2xJU3"),o=r("jp7ng"),s=r("h39Sh");const i=(0,a.default)("span",{target:"evx2nil0"})((e=>({background:(0,s.default)("color.background.neutral",o.N20A),borderRadius:(0,s.default)("border.radius","3px"),color:(0,s.default)("color.text.subtle",o.N500),display:"inline-block",fontSize:"12px",fontWeight:500,lineHeight:1,padding:`${(0,s.default)("space.050","4px")} ${(0,s.default)("space.100","8px")}`,verticalAlign:"middle","&:hover, &:focus":{backgroundColor:(0,s.default)("color.background.neutral.hovered",o.N30A)},overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",...e.isFluidWidth?{maxWidth:"97%","@media (max-width: 600px)":{fontSize:"10px"}}:{maxWidth:"180px","@media (max-width: 600px)":{fontSize:"12px",maxWidth:"80px"}}})),"")})),n("cPhSb",(function(n,a){t(n.exports,"UserAvatar",(function(){return u}));var o=r("fPPqr"),s=r("9nHZC"),i=r("7fTQu"),l=r("cHwqI");class u extends s.PureComponent{render(){const{profileCardPosition:t,profileCardTrigger:r,user:n,...a}=this.props;if(!n)return e(s).createElement(i.DeletedUserAvatar,e(o)({},a,{hasProfileCard:!0,profileCardPosition:t,profileCardTrigger:r}));const u=void 0;return"team"===n.type?e(s).createElement(i.UserAvatar,e(o)({href:void 0},a,{user:n})):e(s).createElement(i.UserAvatar,e(o)({href:void 0},a,{profileCardPosition:t,profileCardTrigger:r,profileClient:l.userProfileClient,profileUrl:u,user:n}))}}})),n("cHwqI",(function(e,n){t(e.exports,"userProfileClient",(function(){return g})),t(e.exports,"atlassianAccountProfileClient",(function(){return h}));var a=r("3XbtU"),o=r("cJH1T"),s=r("7fTQu"),i=r("3rtV2"),l=r("k2cPS"),u=r("5cvxF");const d=3e5,c=(0,o.stringify)({fields:["department","job_title","location","organization","zoneinfo"].map((e=>`+${e}`)).join(",")}),p=e=>{a.captureException(e)},f={cacheMaxAge:d,fetchUser:e=>{const t=i.default.api.v20.user(e);return fetch((0,l.default)(`${t}?${c}`,{headers:l.jsonHeaders})).then((e=>e.ok?e.json():Promise.reject()))},onError:p},m={cacheMaxAge:d,fetchUser:e=>{const t=(0,u.uncurlyAaid)(e)||e,r=i.default.api.v20.user(t);return fetch((0,l.default)(`${r}?${c}`,{headers:l.jsonHeaders})).then((e=>e.ok?e.json():Promise.reject()))},onError:p},g=new(0,s.ProfileClient)(f),h=new(0,s.ProfileClient)(m)})),n("5cvxF",(function(e,r){t(e.exports,"uncurlyAaid",(function(){return a}));const n=new RegExp("^{([^}]+)}$"),a=e=>{const t=n.exec(e);return t?t[1]:null}})),n("cogCn",(function(n,a){t(n.exports,"UserName",(function(){return l}));var o=r("9nHZC"),s=r("7fTQu"),i=r("cHwqI");class l extends o.PureComponent{render(){const{linkComponent:t,profileCardPosition:r,profileCardTrigger:n,user:a}=this.props;if(!a)return e(o).createElement(s.DeletedUserName,{hasProfileCard:!0,profileCardPosition:r,profileCardTrigger:n});const l=void 0,u=e(o).createElement(s.UserName,{user:a}),d=e(o).createElement("span",null,u);return"team"===a.type?d:e(o).createElement(s.UserProfileCardTrigger,{position:r,profileUrl:l,profileClient:i.userProfileClient,trigger:n,userId:a.uuid},d)}}l.defaultProps={linkComponent:"a",profileCardTrigger:"hover"}})),n("cgRVp",(function(n,a){t(n.exports,"default",(function(){return m}));var o=r("9nHZC"),s=r("agjvf"),i=r("7doh5"),l=r("94iOw"),u=r("l8rpz"),d=r("g2MUK"),c=r("2tfsE");const p={OPEN:"inprogress",MERGED:"success",DECLINED:"removed",SUPERSEDED:"moved",default:"default"};class f extends o.PureComponent{constructor(...e){super(...e),this.pullRequestStateMessage=()=>{const{intl:e,pullRequestState:t,pullRequestCreatedOn:r,pullRequestClosedOn:n}=this.props,a=n||null;switch(t){case"MERGED":return e.formatMessage(d.default.pullRequestMerged,{formattedDate:(0,u.relativeDateString)(a,e)});case"DECLINED":return e.formatMessage(d.default.pullRequestDeclined,{formattedDate:(0,u.relativeDateString)(a,e)});default:return e.formatMessage(d.default.pullRequestCreated,{formattedDate:(0,u.relativeDateString)(r,e)})}},this.pullRequestStateLabel=()=>{const{intl:e,pullRequestState:t}=this.props;switch(t){case"MERGED":return e.formatMessage(d.default.pullRequestMergedLabel);case"DECLINED":return e.formatMessage(d.default.pullRequestDeclinedLabel);case"OPEN":return e.formatMessage(d.default.pullRequestOpenLabel);default:return t}}}render(){const{pullRequestState:t}=this.props;return e(o).createElement(l.default,{content:this.pullRequestStateMessage()},e(o).createElement(c.StateLozenge,null,e(o).createElement(i.default,{isBold:!0,appearance:p[t]},this.pullRequestStateLabel())))}}var m=(0,s.injectIntl)(f)})),n("g2MUK",(function(e,n){t(e.exports,"default",(function(){return a}));var a=(0,r("agjvf").defineMessages)({pullRequestCreated:{id:"frontbucket.repository.pullRequest.pullRequestCreated",defaultMessage:"Pull request created {formattedDate}"},pullRequestMerged:{id:"frontbucket.repository.pullRequest.pullRequestMerged",defaultMessage:"Pull request merged {formattedDate}"},pullRequestDeclined:{id:"frontbucket.repository.pullRequest.pullRequestDeclined",defaultMessage:"Pull request declined {formattedDate}"},pullRequestOpenLabel:{id:"frontbucket.repository.pullRequest.pullRequestOpenLabel",defaultMessage:"Open"},pullRequestMergedLabel:{id:"frontbucket.repository.pullRequest.pullRequestMergedLabel",defaultMessage:"Merged"},pullRequestDeclinedLabel:{id:"frontbucket.repository.pullRequest.pullRequestDeclinedLabel",defaultMessage:"Declined"}})})),n("2tfsE",(function(e,n){t(e.exports,"StateLozenge",(function(){return a}));const a=(0,r("2xJU3").default)("div",{target:"e4jegc70"})({name:"1wkrjcz",styles:"margin-top:1px;display:inline-flex;"})})),n("hvciF",(function(n,a){t(n.exports,"default",(function(){return m}));var o=r("9nHZC"),s=r("agjvf"),i=r("9hjCt"),l=r("jp7ng"),u=r("h39Sh"),d=r("94iOw"),c=r("9SmU0"),p=r("fUqhT"),f=r("hZfeB");var m=({refName:t})=>{const r=e(o).createElement(s.FormattedMessage,p.default.branchCharacterWarning);return e(o).createElement(e(o).Fragment,null,(e=>null!==e.match(/^[A-Za-z0-9/\-._]+$/))(t)?e(o).createElement(c.CopyableTextFieldStateless,{isReadOnly:!0,value:`git checkout ${t}`}):e(o).createElement(f.WarningCopyWrapper,null,e(o).createElement(d.default,{position:"bottom",content:r},e(o).createElement(f.WarningIconWrapper,null,e(o).createElement(e(i),{label:"malicious-characters-warning",primaryColor:(0,u.default)("color.icon.warning",l.Y400)}))),e(o).createElement(f.WarningBranchCopyWrapper,null,e(o).createElement(c.CopyableTextFieldStateless,{isReadOnly:!0,value:t}))))}})),n("fUqhT",(function(e,n){t(e.exports,"default",(function(){return a}));var a=(0,r("agjvf").defineMessages)({branchCharacterWarning:{id:"frontbucket.repository.pullRequest.branchCharacterWarning",defaultMessage:"This branch name may have unintended effects in a Git command"}})})),n("hZfeB",(function(e,n){t(e.exports,"WarningCopyWrapper",(function(){return o})),t(e.exports,"WarningIconWrapper",(function(){return s})),t(e.exports,"WarningBranchCopyWrapper",(function(){return i}));var a=r("2xJU3");const o=(0,a.default)("div",{target:"eqs56d50"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),s=(0,a.default)("div",{target:"eqs56d51"})({name:"111wug5",styles:"padding-right:8px;"}),i=(0,a.default)("div",{target:"eqs56d52"})({name:"8atqhb",styles:"width:100%;"})})),n("56gH6",(function(e,n){t(e.exports,"default",(function(){return o})),t(e.exports,"emptyResultsMessages",(function(){return s})),t(e.exports,"sortPrSelectorMessages",(function(){return i}));var a=r("agjvf"),o=(0,a.defineMessages)({stateOpen:{id:"frontbucket.pullRequestList.filter.open",defaultMessage:"Open"},stateMerged:{id:"frontbucket.pullRequestList.filter.merged",defaultMessage:"Merged"},stateDeclined:{id:"frontbucket.pullRequestList.filter.declined",defaultMessage:"Declined"},stateAll:{id:"frontbucket.pullRequestList.filter.all",defaultMessage:"All"},userFilterReviewing:{id:"frontbucket.pullRequestList.filter.pr.reviewing",defaultMessage:"I'm reviewing"},userFilterWatching:{id:"frontbucket.pullRequestList.filter.pr.watching",defaultMessage:"I'm watching"},userFilterAll:{id:"frontbucket.pullRequestList.filter.pr.all",defaultMessage:"All"},filterDescription:{id:"frontbucket.pullRequestList.filter.search",defaultMessage:"Search pull requests"},listHeader:{id:"frontbucket.pullRequestList.list.header",defaultMessage:"Summary"},pageTitle:{id:"frontbucket.pullRequestList.page.title",defaultMessage:"Pull requests"},buttonCreatePullRequest:{id:"frontbucket.pullRequestList.action.createPullRequest",defaultMessage:"Create pull request"},buttonCreatePullRequestDisabled:{id:"frontbucket.pullRequestList.action.buttonCreatePullRequestDisabled",defaultMessage:"You do not have permission to create a pull request"},filterAuthor:{id:"frontbucket.pullRequestList.filter.author",defaultMessage:"Author"},filterAuthorLoading:{id:"frontbucket.pullRequestList.filter.author.loading",defaultMessage:"Loading..."},filterBranch:{id:"frontbucket.pullRequestList.filter.branch",defaultMessage:"Target branch"},filterBranchNoOptions:{id:"frontbucket.pullRequestList.filter.branch.empty",defaultMessage:"No options"},filterBranchError:{id:"frontbucket.pullRequestList.filter.branch.error",defaultMessage:"There was a problem fetching your branches"},filterAuthorNoOptions:{id:"frontbucket.pullRequestList.filter.author.empty",defaultMessage:"No options"},filterAuthorError:{id:"frontbucket.pullRequestList.filter.author.error",defaultMessage:"We couldn\u2019t get the list of authors. Try refreshing the page."}});const s={noMatches:(0,a.defineMessages)({emptyResultsHeading:{id:"frontbucket.pullRequestList.filter.emptyResults.no.matches.heading",defaultMessage:"No pull requests match"},emptyResultsInfo:{id:"frontbucket.pullRequestList.filter.emptyResults.no.matches.info",defaultMessage:"Try modifying or clearing your filter criteria."},clearAllFilters:{id:"frontbucket.pullRequestList.filter.emptyResults.no.matches.clearAllFilters",defaultMessage:"Clear all filters"},changeToAllFilter:{id:"frontbucket.pullRequestList.filter.emptyResults.no.matches.changeToAllFilter",defaultMessage:'Change filter to "All"'}}),noOpen:(0,a.defineMessages)({emptyResultsHeading:{id:"frontbucket.pullRequestList.filter.emptyResults.no.open.heading",defaultMessage:"No open pull requests"},emptyResultsInfo:{id:"frontbucket.pullRequestList.filter.emptyResults.no.open.info",defaultMessage:"Things are pretty quiet right now, but when your team's coding, any open pull requests will appear here."}})},i=(0,a.defineMessages)({sortByLabel:{id:"frontbucket.pullRequestList.filter.sortPrSelector.sort.by.label",defaultMessage:"Sort by"},lastCreatedLabel:{id:"frontbucket.pullRequestList.filter.sortPrSelector.last.created",defaultMessage:"Last created"},lastUpdatedLabel:{id:"frontbucket.pullRequestList.filter.sortPrSelector.last.updated",defaultMessage:"Last updated"}})})),n("aqOOe",(function(n,a){t(n.exports,"BranchSelector",(function(){return v}));var o=r("9nHZC"),s=r("62zzi"),i=r("dGzLf"),l=r("4cpJW"),u=r("lepT7"),d=r("jajUg"),c=r("9xBn1"),p=r("7gyAE"),f=r("5gF7V"),m=r("abRa1"),g=r("56gH6"),h=r("8MnfV"),b=r("9UqTj");const v=t=>{const r=(0,d.useIntl)(),n=(0,i.useSelector)(h.getIsSiteMessageActive),{inputId:a,fetchRefOptions:v,fetchNextRefOptions:x,branchSelector:{loadingState:E,refs:y,hasMoreRefs:R},onChangeBranch:S,value:k,autoFocus:w=!1,startMenuOpen:C=!1}=t,[M,q]=(0,o.useState)(!1),T=(0,s.default)(((e,{action:t})=>{if("input-change"===t)return q(!0),void v({search:e});"menu-close"===t&&M&&(q(!1),v())}),1e3);let L=null;E!==f.LOADING_STATE.SUCCESS||y.length?E===f.LOADING_STATE.ERROR&&(L=r.formatMessage(g.default.filterBranchError)):L=r.formatMessage(g.default.filterBranchNoOptions);return e(o).createElement(u.default,{backspaceRemovesValue:!1,formatOptionLabel:(t,{context:r})=>"value"===r?e(o).createElement("div",{style:{display:"flex",alignItems:"center"}},e(o).createElement(e(l),{size:"medium",label:""}),e(o).createElement("span",{style:{paddingLeft:8,paddingBottom:0}},t.label)):t&&t.label,components:{GroupHeading:p.CustomGroupHeading,Option:p.CustomSelectOption},filterOption:null,isLoading:E===f.LOADING_STATE.LOADING,menuPortalTarget:document.body,noOptionsMessage:()=>r.formatMessage(g.default.filterBranchNoOptions),inputId:a,onChange:e=>{e.ref&&S(e.ref)},onClickPreventDefault:!1,onInputChange:T,onMenuScrollToBottom:()=>{x&&x()},options:(()=>{if(!y.length)return[];const e=(0,m.generateRefSelectorOptions)(y);return R?[...e,{label:r.formatMessage(c.default.refSelectorMoreOptions),value:"",isDisabled:!0,data:void 0}]:e})(),placeholder:L,styles:(0,b.getModalMenuPortalStyles)(n),value:k,defaultMenuIsOpen:C,autoFocus:w})}})),n("b8ZcI",(function(e,n){t(e.exports,"Activity",(function(){return p})),t(e.exports,"Arrow",(function(){return f})),t(e.exports,"BranchesContainer",(function(){return m})),t(e.exports,"SourceBranch",(function(){return g})),t(e.exports,"Branch",(function(){return h})),t(e.exports,"BuildStatusContainer",(function(){return b})),t(e.exports,"HeaderLink",(function(){return v})),t(e.exports,"SubtleRepositoryLink",(function(){return x})),t(e.exports,"SummaryHeader",(function(){return E})),t(e.exports,"StateLozengeWrapper",(function(){return y})),t(e.exports,"TooltipBoundaries",(function(){return R})),t(e.exports,"TableRow",(function(){return S})),t(e.exports,"BylineNoMargin",(function(){return k}));var a=r("2xJU3"),o=r("aP6k3"),s=r("jp7ng"),i=r("h39Sh"),l=r("3UVNu"),u=r("5LG74"),d=r("cS2SK"),c=r("4x9W6");const p=(0,a.default)("div",{target:"e1qqs3780"})({name:"yr2amz",styles:"align-items:center;display:flex;justify-content:flex-start;"}),f=(0,a.default)("span",{target:"e1qqs3781"})("color:",(0,i.default)("color.text.subtlest",s.N300),";display:flex;margin:0 ",(0,o.gridSize)()/2,"px;"),m=(0,a.default)("span",{target:"e1qqs3782"})("display:flex;align-items:center;margin-left:",(0,o.gridSize)(),"px;",l.media.upToSmall(" margin-left: 0; "),""),g=(0,a.default)("span",{target:"e1qqs3783"})(l.media.upToXLarge(" display: none; ")," ",l.media.upToSmall(" display: block; "),""),h=(0,a.default)("span",{target:"e1qqs3784"})({name:"1ierarn",styles:"& span:only-child{margin-top:0;margin-bottom:0;}"}),b=((0,a.default)("div",{target:"e1qqs3785"})({name:"1bvc4cc",styles:"display:flex;justify-content:flex-end;"}),(0,a.default)("div",{target:"e1qqs3786"})({name:"1l4w6pd",styles:"display:flex;justify-content:center;"})),v=(0,a.default)(u.default,{target:"e1qqs3787"})("&,&:hover,&:focus{color:",(0,i.default)("color.text",s.N800),";}"),x=(0,a.default)(d.default,{target:"e1qqs3788"})(c.subtleLink,";"),E=(0,a.default)("div",{target:"e1qqs3789"})("align-items:center;display:flex;> div{",(0,c.overflowEllipsis)("100%"),";}",l.media.upToSmall("\n    flex-wrap: wrap;\n    flex-direction: column;\n    align-items: flex-start;\n  "),""),y=(0,a.default)("div",{target:"e1qqs37810"})("margin-right:",(0,o.gridSize)(),"px;flex-shrink:0;> *{display:flex;}"),R=(0,a.default)("span",{target:"e1qqs37811"})({name:"1o4wo1x",styles:"overflow:hidden;text-overflow:ellipsis;"}),S=(0,a.default)("tr",{target:"e1qqs37812"})("background-color:",(e=>e.isFocused?(0,i.default)("elevation.surface.raised",s.N20):"initial"),";&:hover,&:focus{background-color:",(0,i.default)("elevation.surface.raised.hovered",s.N20),";box-shadow:",(0,i.default)("elevation.shadow.raised",`-${(0,o.gridSize)()/2}px 0 0 0 ${s.N20},\n      ${(0,o.gridSize)()/2}px 0 0 0 ${s.N20}`),";border-radius:",(0,o.borderRadius)(),"px;}"),k=((0,a.default)("small",{target:"e1qqs37813"})({name:"19mpyee",styles:"text-size-adjust:none;white-space:normal;"}),(0,a.default)("small",{target:"e1qqs37814"})({name:"pg2xv0",styles:"text-size-adjust:none;white-space:normal;margin:0;"}))})),n("iBE3U",(function(e,n){t(e.exports,"useRefFetchActions",(function(){return h}));var a=r("9nHZC"),o=r("3XbtU"),s=r("b7ZcK"),i=r("dGzLf"),l=r("1EkdU"),u=r("5gF7V"),d=r("abRa1"),c=r("fyvjM"),p=r("29n4c"),f=r("aanBq"),m=r("k2cPS"),g=r("eO3IF");const h=e=>{const t=(0,i.useSelector)(f.getCurrentRepositoryFullSlug),r=(0,i.useSelector)(f.getRepositoryBranchingModel),n=(0,i.useSelector)(f.getRepositoryMainBranch),h=(0,i.useSelector)(l.getPullRequestDestinationRepo),b=(0,i.useSelector)(l.getPullRequestSourceRepo),v=(0,s.default)(),x=b&&h&&b.full_name===h.full_name,E={loadingState:u.LOADING_STATE.LOADING,refs:[],hasMoreRefs:!1,next:void 0},[y,R]=(0,a.useState)(E),{sourceBranch:S,onStart:k,onSucceed:w,onError:C,destinationRepoName:M,parentRepo:q,ignoreMainBranchPriority:T,newBranchName:L}=e||{},P=null!=M?M:t,I=(0,a.useCallback)((e=>e===(null==q?void 0:q.name)?null==q?void 0:q.mainBranch:n),[n,null==q?void 0:q.name,null==q?void 0:q.mainBranch]);return{fetchRefs:(0,a.useCallback)((async e=>{if(!P)return;k&&k(),R({loadingState:u.LOADING_STATE.LOADING,refs:[],hasMoreRefs:!1,next:void 0});const t=(null==e?void 0:e.search)||"",n=S&&x?`name != "${S}"`:"",a=(0,g.buildRefUrls)(P,"branch",t,n);try{var o;const e=a.map((e=>(0,c.fetchRefOptions)(e,!T&&""===t,t,"branch",I(P),r,C).then((t=>({response:t,url:e}))))),n=await Promise.all(e);w&&w();const s=n.flatMap((e=>e.response.preparedRefs)),i=null===(o=n.find((({url:e})=>e.includes(a[a.length-1]))))||void 0===o?void 0:o.response.next,l=L?[(0,d.getNewBranchEnabledRef)({name:v.formatMessage(p.messages.newBranchName,{branchName:L}),type:"branch",isNewBranch:!0})]:[];R((e=>({...e,refs:[...l,...(0,d.getRefs)(s)],next:i,hasMoreRefs:!!i,loadingState:u.LOADING_STATE.SUCCESS})))}catch(e){R((e=>({...e,loadingState:u.LOADING_STATE.ERROR})))}}),[P,k,S,x,w,L,v,T,I,r,C]),fetchNextRefs:(0,a.useCallback)((async e=>{const{next:t}=y;if(!t||!P)return;const n=null==e?void 0:e.search;try{const{preparedRefs:e,next:a}=await(0,c.fetchRefOptions)(t,!1,n||"","branch",I(P),r);R((t=>({...t,refs:[...t.refs,...(0,d.getRefs)(e)],next:a,hasMoreRefs:!!a,loadingState:u.LOADING_STATE.SUCCESS})))}catch(e){R((e=>({...e,loadingState:u.LOADING_STATE.ERROR})))}}),[y,P,I,r]),refetchMainDestRef:(0,a.useCallback)((async(e,t)=>{const r=I(e);if(!r)return;const n=(0,c.generateRefUrl)(e,r.name,"branch",null,void 0,"-target.date",{type:"exact",exact:!0});try{const e=await fetch((0,m.default)(n));if(!e.ok)throw Error();const{values:r}=await e.json();if(0!==r.length&&r[0]){t((0,d.getRef)(r[0]))}else o.captureException("Failed to change branch view destination branch")}catch(e){o.captureException(e)}}),[I]),state:y}}})),n("29n4c",(function(e,n){t(e.exports,"messages",(function(){return a}));const a=(0,r("agjvf").defineMessages)({pullRequests:{id:"frontbucket.repository.pullRequest.breadcrumbs.pullRequests",defaultMessage:"Pull Requests"},createPullRequestsTitle:{id:"frontbucket.repository.pullRequest.title.createPullRequestsTitle",defaultMessage:"Create a Pull Request"},title:{id:"frontbucket.repository.pullRequest.title.createPullRequest",defaultMessage:"Title"},description:{id:"frontbucket.repository.pullRequest.description.createPullRequest",defaultMessage:"Description"},createPullRequest:{id:"frontbucket.repository.pullRequest.button.createPullRequest",defaultMessage:"Create pull request"},errorTitle:{id:"frontbucket.repository.pullRequest.title.errorTitle",defaultMessage:"Something went wrong"},errorBody:{id:"frontbucket.repository.pullRequest.body.errorBody",defaultMessage:"We are unable to create your pull request at this time. Refresh the page, or try again later."},titleTooLong:{id:"frontbucket.repository.pullRequest.title.titleTooLong",defaultMessage:"This pull request title is too long. Titles must be less than 255 characters."},errorOnSourceLoad:{id:"frontbucket.repository.pullRequest.error.errorOnSourceLoad",defaultMessage:"Error loading source branch: {sourceBranch}"},errorOnDestLoad:{id:"frontbucket.repository.pullRequest.error.errorOnDestLoad",defaultMessage:"Error loading destination branch: {destinationBranch}"},errorOnSourceAndDestLoad:{id:"frontbucket.repository.pullRequest.error.errorOnSourceAndDestLoad",defaultMessage:"Error loading source and destination branches: {sourceBranch} & {destinationBranch}"},deleteBranchTitle:{id:"frontbucket.repository.pullRequest.title.deleteBranch",defaultMessage:"Delete branch"},deleteBranchPreLabel:{id:"frontbucket.repository.pullRequest.label.deleteBranchPreLabel",defaultMessage:"Delete"},deleteBranchPostLabel:{id:"frontbucket.repository.pullRequest.label.deleteBranchPostLabel",defaultMessage:"after the pull request is merged"},pullRequestExistsTitle:{id:"frontbucket.repository.pullRequest.title.pullRequestExists",defaultMessage:"Pull request exists"},pullRequestExistsDescription:{id:"frontbucket.repository.pullRequest.description.pullRequestExists",defaultMessage:"There is already an open pull request between the selected branches."},pullRequestExistsLink:{id:"frontbucket.repository.pullRequest.link.pullRequestExists",defaultMessage:"View pull request"},branchDeletionDisabledTooltip:{id:"frontbucket.repository.pullRequest.tooltip.branchDeletionDisabledTooltip",defaultMessage:"Branch deletion is disabled for this branch."},copyBranchPRTitle:{id:"frontbucket.repository.pullRequest.tooltip.copyBranchPRTitle",defaultMessage:"Copy {branchName} branch"},newBranchName:{id:"frontbucket.repository.pullRequest.tooltip.newBranchName",defaultMessage:"{branchName} (new branch)"},sourceBranchLabel:{id:"frontbucket.repository.pullRequest.branchSelector.sourceBranchLabel",defaultMessage:"Source Branch"},destinationBranchLabel:{id:"frontbucket.repository.pullRequest.branchSelector.destinationBranchLabel",defaultMessage:"Destination Branch"},sourceRepoLabel:{id:"frontbucket.repository.pullRequest.branchSelector.sourceRepoLabel",defaultMessage:"Source Repository"},destinationRepoLabel:{id:"frontbucket.repository.pullRequest.branchSelector.destinationRepoLabel",defaultMessage:"Destination Repository"},reviewers:{id:"frontbucket.repository.pullRequest.reviewers.title.createPullRequest",defaultMessage:"Reviewers"},reviewersPlaceholder:{id:"frontbucket.repository.pullRequest.reviewers.placeholder.createPullRequest",defaultMessage:"Add reviewers"}})})),n("6fnCL",(function(e,n){t(e.exports,"useCompassSiteInfo",(function(){return s}));var a=r("dOsQd");const o=r("gbiiY").default`
  query compassInfo($cloudIds: [ID!]) {
    tenantContexts(cloudIds: $cloudIds) {
      cloudId
      hostName
    }
  }
`,s=e=>{var t;const{data:r,loading:n,error:s}=(0,a.useQuery)(o,{variables:{cloudIds:e?[e]:[]},skip:!e}),i=null==r||null===(t=r.tenantContexts)||void 0===t?void 0:t[0],l=i?`https://${i.hostName}`:null;return{siteUrl:l,compassBitbucketAppAdminPageUrl:l?`${l}/compass/apps/b:${window.btoa("ari:cloud:ecosystem::extension/05175914-734f-4887-b303-4ad44d6c3a34/575409ba-ad7d-4f51-9665-d7371cd32854/static/bitbucket-admin")}`:null,loading:n,error:s?new Error(s.message):null}}}))}();
//# sourceMappingURL=containers.ea9d90a3.js.map
