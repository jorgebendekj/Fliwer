!function(){function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequirecbf3,a=n.register;a("3F5vi",(function(t,a){e(t.exports,"ConnectSourceWebCards",(function(){return n("j1fGH").default})),e(t.exports,"ConnectPullRequestWebCards",(function(){return n("4dfKK").default}));n("j1fGH"),n("4dfKK")})),a("j1fGH",(function(a,r){e(a.exports,"default",(function(){return p}));var o=n("9nHZC"),i=n("lIZwG"),l=n("dGzLf"),s=n("bVIhs"),c=n("aanBq"),u=n("g2R3c"),d=n("ezxW3");var p=(0,l.connect)((e=>({principalId:(0,u.getTargetUserKey)(e),repository:(0,c.getCurrentRepository)(e),hash:(0,i.default)(e,"repository.source.section.hash"),sourceObject:e.repository.source.section.sourceObject})))((e=>{const{principalId:n,repository:a,hash:r,sourceObject:i,isCollapsed:l}=e;if(!n||!a||!i||i.isLoading)return null;const[c,u]=a.full_name.split("/"),{path:p,treeEntry:f}=i;return""===p?t(o).createElement(d.WebCards,{principalId:n,location:"org.bitbucket.source",isCollapsed:l,target:(0,s.repositoryTarget)({repositoryOwner:c,repositorySlug:u})}):p&&r&&f?"directory"===f.type?t(o).createElement(d.WebCards,{principalId:n,location:"org.bitbucket.source.directory",isCollapsed:l,target:(0,s.commitDirectoryTarget)({repositoryOwner:c,repositorySlug:u,path:`${p}/`,hash:r})}):t(o).createElement(d.WebCards,{principalId:n,location:"org.bitbucket.source.file",isCollapsed:l,target:(0,s.commitFileTarget)({repositoryOwner:c,repositorySlug:u,path:p,hash:r})}):null}))})),a("ezxW3",(function(a,r){e(a.exports,"WebCards",(function(){return m}));var o=n("fPPqr"),i=n("9nHZC"),l=n("lIZwG"),s=n("94iOw"),c=n("6x4M3"),u=n("aUuqL"),d=n("dRi2h"),p=n("ks5r8"),f=n("4VBFd");class m extends i.PureComponent{render(){const{principalId:e,target:n,location:a,isCollapsed:r}=this.props;return t(i).createElement(c.ConnectIframes,{moduleType:"webCards",principalId:e,target:n,location:a,width:"100%",loadingComponent:()=>null,loadingFailedComponent:()=>null},(e=>e.length>0&&e.map((({Component:e,module:n})=>{const a=(0,l.default)(n,"descriptor.name.value"),c=t(i).createElement(d.default,{url:(0,l.default)(n,"descriptor.icon.url"),className:(0,l.default)(n,"descriptor.params.auiIcon")});return r?t(i).createElement(s.default,{key:n.id,position:"left",content:a},c):t(i).createElement(f.Card,{key:n.id,"data-qa":"connect-webcard"},t(i).createElement(u.ConnectedExpander,{defaultIsCollapsed:!0,localStorageKey:`${n.id}.card.collapsed`,icon:c,isLoading:!1,label:a,sectionAriaLabel:a},t(i).createElement(e,{loadingComponent:()=>t(i).createElement(p.default,{module:n,delay:300}),loadingTimeoutComponent:e=>t(i).createElement(p.default,t(o)({action:"timeout"},e,{module:n})),loadingFailedComponent:()=>t(i).createElement(p.default,{action:"failed",module:n})})))}))))}}})),a("dRi2h",(function(a,r){e(a.exports,"default",(function(){return c}));var o=n("2xJU3"),i=n("9nHZC");const l=(0,o.default)("span",{target:"e408k2m0"})({name:"96j35y",styles:"height:24px;width:24px;&::before{font-size:20px;margin-left:2px;margin-top:-10px;}"});class s extends i.PureComponent{render(){const{className:e,url:n}=this.props;if(n)return t(i).createElement("img",{src:n,alt:"",width:"24",height:"24"});const a=["aui-icon","aui-icon-large",e].join(" ").trim();return t(i).createElement(l,{className:a})}}var c=s})),a("ks5r8",(function(a,r){e(a.exports,"default",(function(){return o}));var o,i=n("fPPqr"),l=n("9nHZC"),s=n("lIZwG"),c=n("agjvf"),u=n("EKmRU"),d=n("dEKDm"),p=n("1gNsY"),f=n("dzmfC");(o=class extends l.PureComponent{constructor(...e){super(...e),this.timeout=void 0,this.state={delay:this.props.delay}}componentDidMount(){const{delay:e}=this.state;e&&(this.timeout=setTimeout((()=>this.setState({delay:0})),e))}componentWillUnmount(){clearTimeout(this.timeout)}render(){const{delay:e}=this.state,{action:n,module:a,failedCallback:r}=this.props;if("loading"===n&&e)return!1;const o=(0,s.default)(a,"app_name",(0,s.default)(a,"app_key","")),m=(0,s.default)(a,"app_base_url",(0,s.default)(a,"source.url",""));return t(l).createElement(f.Container,null,"loading"===n?t(l).createElement(f.Spinner,null,t(l).createElement(d.default,{size:"medium",delay:0})):o&&m&&t(l).createElement(c.FormattedMessage,t(i)({},p.default[n],{values:{link:t(l).createElement("a",{href:m,target:"_blank"},o),action:"timeout"===n&&t(l).createElement(u.default,{appearance:"link",spacing:"none",onClick:r},t(l).createElement(c.FormattedMessage,p.default.cancelText))}})))}}).defaultProps={action:"loading",delay:0}})),a("1gNsY",(function(t,a){e(t.exports,"default",(function(){return r}));var r=(0,n("agjvf").defineMessages)({loading:{id:"frontbucket.connect.loadingDescription",defaultMessage:"Loading app {link}."},timeout:{id:"frontbucket.connect.loadingTimeoutDescription",defaultMessage:"App {link} is not responding. Wait or {action}."},failed:{id:"frontbucket.connect.loadingFailedDescription",defaultMessage:"App {link} failed to load."},cancelText:{id:"frontbucket.connect.cancelText",defaultMessage:"cancel"}})})),a("dzmfC",(function(t,a){e(t.exports,"Container",(function(){return i})),e(t.exports,"Spinner",(function(){return l}));var r=n("2xJU3"),o=n("aP6k3");const i=(0,r.default)("small",{target:"ey323gi0"})({name:"rmxqah",styles:"display:flex;justify-content:center;align-items:center;margin:0;"}),l=(0,r.default)("div",{target:"ey323gi1"})("margin:",(0,o.gridSize)(),"px 0;")})),a("4VBFd",(function(t,a){e(t.exports,"Card",(function(){return i}));var r=n("2xJU3"),o=n("aP6k3");const i=(0,r.default)("div",{target:"ejd26n00"})("& + &{margin-top:",1.5*(0,o.gridSize)(),"px;}")})),a("4dfKK",(function(a,r){e(a.exports,"default",(function(){return d}));var o=n("9nHZC"),i=n("dGzLf"),l=n("1EkdU"),s=n("g2R3c"),c=n("ezxW3");class u extends o.PureComponent{render(){const{principalId:e,target:n,isCollapsed:a}=this.props;return e&&n?t(o).createElement(c.WebCards,{principalId:e,target:n,isCollapsed:a,location:"org.bitbucket.pullrequest"}):null}}var d=(0,i.connect)((e=>({principalId:(0,s.getTargetUserKey)(e),target:(0,l.getCurrentPullRequest)(e)})))(u)})),a("2q8vl",(function(t,n){e(t.exports,"LOADING_MODULE_DELAY",(function(){return a}));const a=300})),a("jOyQ7",(function(a,r){e(a.exports,"default",(function(){return o}));var o,i=n("fPPqr"),l=n("9nHZC"),s=n("lIZwG"),c=n("agjvf"),u=n("EKmRU"),d=n("dEKDm"),p=n("1gNsY"),f=n("c7ndm");(o=class extends l.PureComponent{constructor(...e){super(...e),this.timeout=void 0,this.state={delay:this.props.delay}}componentDidMount(){const{delay:e}=this.state;e&&(this.timeout=setTimeout((()=>this.setState({delay:0})),e))}componentWillUnmount(){clearTimeout(this.timeout)}render(){const{delay:e}=this.state,{action:n,module:a,failedCallback:r}=this.props;if("loading"===n&&e)return!1;const o=(0,s.default)(a,"app_name",(0,s.default)(a,"app_key","")),m=(0,s.default)(a,"app_base_url",(0,s.default)(a,"source.url",""));return t(l).createElement(f.Container,null,"loading"===n&&t(l).createElement(f.Spinner,null,t(l).createElement(d.default,{size:"small",delay:0})),o&&m&&t(l).createElement(c.FormattedMessage,t(i)({},p.default[n],{values:{link:t(l).createElement("a",{href:m,target:"_blank"},o),action:"timeout"===n&&t(l).createElement(u.default,{appearance:"link",spacing:"none",onClick:r},t(l).createElement(c.FormattedMessage,p.default.cancelText))}})))}}).defaultProps={action:"loading",delay:0}})),a("c7ndm",(function(t,a){e(t.exports,"Container",(function(){return o})),e(t.exports,"Spinner",(function(){return i}));var r=n("2xJU3");const o=(0,r.default)("small",{target:"e1rsklf90"})({name:"1tbblij",styles:"position:absolute;left:0;top:0;right:0;bottom:0;display:flex;align-items:center;margin:0;padding:0 12px;"}),i=(0,r.default)("div",{target:"e1rsklf91"})({name:"ttjnck",styles:"margin:0 8px 0 0;"})})),a("9kkxk",(function(t,a){e(t.exports,"webPanelHeight",(function(){return l})),e(t.exports,"webPanelWidth",(function(){return s})),e(t.exports,"SourceWebPanel",(function(){return c})),e(t.exports,"PullRequestWebPanel",(function(){return u})),e(t.exports,"WebPanelHeader",(function(){return d})),e(t.exports,"WebPanelSection",(function(){return p}));var r=n("2xJU3"),o=n("aP6k3"),i=n("dCDrX");const l="50px",s="100%",c=(0,r.default)("div",{target:"evqr4d40"})("display:flex;position:relative;margin-bottom:",3*(0,o.gridSize)(),"px;min-height:",l,";max-height:280px;overflow:auto;iframe{display:block;}"),u=(0,r.default)("div",{target:"evqr4d41"})("display:flex;position:relative;margin-top:",(0,o.gridSize)(),"px;overflow:auto;min-height:",l,";max-height:600px;iframe{display:block;overflow:auto;}"),d=(0,r.default)("span",{target:"evqr4d42"})(i.h400(),";"),p=(0,r.default)("section",{target:"evqr4d43"})("margin-top:",(0,o.gridSize)(),"px;margin-bottom:",(0,o.gridSize)(),"px;")}))}();
//# sourceMappingURL=source-diff.30aee01a.js.map
